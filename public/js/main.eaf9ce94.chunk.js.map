{"version":3,"sources":["images/loginLogo.png","CredentialPages/Login.js","store/action_types.js","store/actions.js","ChatDrawer/SearchFriend.js","images/defProf.jpg","ChatDrawer/Notifications.js","ChatDrawer/ControlTabs.js","store/firebaseInit.js","ChatDrawer/Friends.js","images/defUsers.jpg","ChatDrawer/CreateGroupChat.js","ChatDrawer/GroupChats.js","ChatDrawer/ChatDrawer.js","Chat/Emoji.js","ChatDrawer/GroupChatInfo.js","ChatDrawer/AddGroupMember.js","Chat/Spinner.js","Chat/ChatWindow.js","ChatRoom.js","Profile/PersonalInfo.js","Profile/EditPersonalInfo.js","Profile/UserInfo.js","Profile/ProfileDrawer.js","images/gossipBack.png","Profile/CreatePost.js","Profile/ProfileContent.js","Profile/Profile.js","App.js","store/chatReducer.js","store/rootReducer.js","store/store.js","index.js"],"names":["fieldStyles","Login","useState","page","setPage","animateLoginPage","rightSide","document","querySelector","leftSide","classList","contains","add","remove","setTimeout","className","action","method","href","src","style","TextField","name","required","type","label","variant","Button","onClick","LoginLogo","USER","USER_PROFILE","USER_CHAT","SEARCH_CRITERIA","CHAT","VIDEO_CHAT","SWITCH_CHATS","getUserInfo","user","ACTION_TYPES","payload","getUserProfile","userChat","searchCriteria","result","getChat","chat","connect","state","dispatch","ACTIONS","props","open","setOpen","filtered","friends","map","i","username","body","onSubmit","e","preventDefault","id","onKeyDown","criteria","target","value","keyCode","axios","post","then","res","data","List","item","includes","ListItem","Avatar","image","ListItemText","primary","ListItemIcon","sender","receiver","console","log","uniqid","Modal","onClose","aria-labelledby","aria-describedby","handleNotification","response","notifID","notifications","notif","alt","defProfPic","length","switchChats","IconButton","aria-label","Notifications","firebaseConfig","apiKey","process","REACT_APP_API_KEY","authDomain","REACT_APP_PROJECT_ID","databaseURL","projectId","storageBucket","messagingSenderId","REACT_APP_SENDER_ID","appId","REACT_APP_APP_ID","measurementId","REACT_APP_MEASUREMENT_ID","firebase","initializeApp","useStyles","makeStyles","theme","root","width","maxWidth","backgroundColor","palette","background","paper","firestore","classes","dense","friend","button","currentChat","ListItemAvatar","to","profImage","defProfImage","ListItemSecondaryAction","collection","doc","get","s","message","conversation","scrollTop","scrollHeight","filter","groupChats","class","group","defUsers","maker","email","setChatWithUser","profileImage","Divider","Emoji","textMessage","children","innerHTML","users","chatName","removeUser","uuid","matching","regex","RegExp","match","push","newUser","newUserName","display","justifyContent","alignItems","marginLeft","spacing","position","top","right","Spinner","CircularProgress","arrayUnion","FieldValue","spinner","setSpinner","error","setError","sendMessage","docReceiver","docSender","update","set","downloadFile","download","saveAs","substring","lastActive","moment","parseInt","format","msg","fileName","disabled","accept","multiple","onChange","file","files","form","FormData","append","settings","REACT_APP_URL","$","ajax","done","jx","JSON","parse","url","htmlFor","color","component","storageRef","storage","ref","put","child","getDownloadURL","useEffect","flexGrow","demo","title","margin","React","countProfile","count","userFriends","userProfile","edge","posts","placeholder","personalInfo","date","interest","residence","phone","prof","parent","parentElement","nested","paddingLeft","openFirst","setOpenFirst","Collapse","in","timeout","unmountOnExit","disablePadding","errorProfile","handleProfile","selected","backgroundImage","handleBackground","active","setFile","imgPreview","setImgPreview","handleOpen","handleClose","noValidate","autoComplete","reader","FileReader","onloadend","readAsDataURL","postTitle","postDesc","Date","now","window","location","reload","leaveComment","comment","postID","defProfImg","handleClick","container","likePost","likes","comments","App","exact","path","ChatRoom","Profile","initialState","videoChat","chatReducer","rootReducer","combineReducers","store","createStore","ReactDOM","render","getElementById"],"mappings":"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","file":"js/main.eaf9ce94.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"media/loginLogo.6d758bf4.png\";","import React,{useState} from 'react'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport LoginLogo from '../images/loginLogo.png'\r\n\r\n\r\nconst fieldStyles = {\r\n    'width': '80%',\r\n    'margin': '0 auto'\r\n}\r\n\r\nfunction Login() {\r\n    const [page,setPage] = useState(true)\r\n    const animateLoginPage = ()=>{\r\n        let rightSide = document.querySelector('.background_login')\r\n        let leftSide = document.querySelector('.login_form')\r\n        if(rightSide.classList.contains('animateScreen1')){\r\n            rightSide.classList.add('animateScreen2')\r\n            leftSide.classList.add('animateScreen2')\r\n            rightSide.classList.remove('animateScreen1')\r\n            leftSide.classList.remove('animateScreen')\r\n        }else{\r\n            rightSide.classList.add('animateScreen1')\r\n            leftSide.classList.add('animateScreen')\r\n            rightSide.classList.remove('animateScreen2')\r\n            leftSide.classList.remove('animateScreen2')\r\n        }\r\n\r\n        setTimeout(()=>{\r\n            setPage(!page)\r\n        },150)\r\n    }\r\n    return (\r\n        <div className='login_section'>\r\n            <div className='login_container'>\r\n                {(()=>{\r\n                    if(page){\r\n                        return <form action='/login' method='POST' className='login_form'>\r\n                                    <h2>Login</h2>\r\n                                    <a href='/api/google' className='google_button'>Sign in with Google <img src=\"https://img.icons8.com/fluent/48/000000/google-logo.png\"/></a>\r\n                                    <br></br>\r\n                                    <span style={{'borderBottom':'1px solid black','width':'28px','margin':'0 auto'}}>OR</span>\r\n                                    <br></br>\r\n                                    <TextField name='username' style={fieldStyles} required type='email' label='Email...' variant='outlined'></TextField>\r\n                                    <br></br>\r\n                                    <TextField name='password' style={fieldStyles} required type='password' label='Password...' variant='outlined'></TextField>\r\n                                    <br></br>\r\n                                    <Button type='submit' variant='contained'>Login</Button>\r\n                                    <p>No Account? <a onClick={animateLoginPage}>Click Here</a></p>\r\n                                </form>\r\n                    }else{\r\n                        return  <form action='/create-account' method=\"POST\" className='login_form'>\r\n                                    <h2>Sign up</h2>\r\n                                    <br></br>\r\n                                    <TextField name='username' style={fieldStyles} required type='email' label='Email...' variant='outlined'></TextField>\r\n                                    <br></br>\r\n                                    <TextField name='password' style={fieldStyles} required type='password' label='Password...' variant='outlined'></TextField>\r\n                                    <br></br>\r\n                                    <TextField name='name' style={fieldStyles} required type='text' label='Name...' variant='outlined'></TextField>\r\n                                    <br></br>\r\n                                    <Button style={{'width': '100px'}} type='submit' variant='contained'>Sign up</Button>\r\n                \r\n                                    <p>Have an account? <a onClick={animateLoginPage}>Click Here</a></p>\r\n                                </form>\r\n                    }\r\n                })()}\r\n                <div className='background_login' style={{'backgroundImage':`url(${LoginLogo})`}}>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Login;\r\n","export const USER = 'USER'\r\nexport const USER_PROFILE = 'USER_PROFILE'\r\nexport const USER_CHAT = 'USER_CHAT'\r\nexport const SEARCH_CRITERIA = 'SEARCH_CRITERIA'\r\nexport const CHAT = 'CHAT'\r\nexport const VIDEO_CHAT = 'VIDEO_CHAT'\r\nexport const SWITCH_CHATS = 'SWITCH_CHATS'\r\n","import * as ACTION_TYPES from './action_types'\r\n\r\nexport const getUserInfo = (user)=>{\r\n    return {\r\n        type: ACTION_TYPES.USER,\r\n        payload: user\r\n    }\r\n}\r\n\r\nexport const getUserProfile = (user)=>{\r\n    return {\r\n        type: ACTION_TYPES.USER_PROFILE,\r\n        payload: user\r\n    }\r\n}\r\n\r\nexport const userChat = (user)=>{\r\n    return {\r\n        type: ACTION_TYPES.USER_CHAT,\r\n        payload: user\r\n    }\r\n}\r\n\r\nexport const searchCriteria = (result)=>{\r\n    return {\r\n        type: ACTION_TYPES.SEARCH_CRITERIA,\r\n        payload: result\r\n    }\r\n}\r\n\r\nexport const getChat = (chat)=>{\r\n    return {\r\n        type: ACTION_TYPES.CHAT,\r\n        payload: chat\r\n    }\r\n}\r\n\r\nexport const getVideoChat = (id)=>{\r\n    return {\r\n        type: ACTION_TYPES.VIDEO_CHAT,\r\n        payload: id\r\n    }\r\n}\r\n\r\nexport const switchChats = (res)=>{\r\n    return {\r\n        type: ACTION_TYPES.SWITCH_CHATS,\r\n        payload: res\r\n    }\r\n}","import React,{useState} from 'react';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport TextField from '@material-ui/core/TextField'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport axios from 'axios'\r\nimport {connect} from 'react-redux'\r\nimport * as ACTIONS from '../store/actions'\r\nimport uniqid from 'uniqid'\r\n\r\n\r\nfunction SearchFriend(props) {\r\n  const [open, setOpen] = useState(false);\r\n  let filtered = props.chat.user.friends ? props.chat.user.friends.map(i=>i.username) : []\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const sendNotification = (sender,receiver)=>{\r\n    axios.post('/send-notification',{sender,receiver}).then(res=>console.log(res))\r\n  }\r\n  const searchUser = (e)=>{\r\n    let target=  e.target\r\n    let criteria = target.value\r\n    if(e.keyCode === 13){\r\n      axios.post('/search-user',{criteria}).then(res=>props.searchCriteria(res.data))\r\n    }\r\n  }\r\n\r\n  const body = (\r\n    <form onSubmit={(e)=>e.preventDefault()} className='friend_search_container'>\r\n      <h2 id=\"simple-modal-title\">Search User</h2>\r\n      <TextField onKeyDown={searchUser} style={{'width':'80%','margin': '10px auto'}} variant='outlined' label='Name...'></TextField>\r\n      <List style={{'width':'80%','margin': '0 auto','overflow':'auto'}} >\r\n        {props.chat.searchCriteria ? props.chat.searchCriteria.map(item=>{\r\n           if (filtered.includes(item.username)){\r\n\r\n           }else{\r\n             return <ListItem key={uniqid()}>\r\n             <Avatar style={{'border':'2px solid black'}} src={item.image} />\r\n                 <ListItemText style={{'margin':'0 20px'}} primary={item.name}/>\r\n                 <ListItemIcon>\r\n                     <i onClick={()=> sendNotification(props.chat.user.username,item.username)} className=\"fas fa-user-plus\"></i>\r\n                 </ListItemIcon>\r\n             </ListItem>\r\n           }\r\n        }): 'No results.'}\r\n      </List>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n        <i className=\"fas fa-user-plus\" onClick={handleOpen}></i>\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n        {body}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state =>{\r\n  return {\r\n    chat: state.chat\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n  return {\r\n    searchCriteria: (result)=> dispatch(ACTIONS.searchCriteria(result))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(SearchFriend);\r\n","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAAAAAAAD/4QAuRXhpZgAATU0AKgAAAAgAAkAAAAMAAAABAAAAAEABAAEAAAABAAAAAAAAAAD/2wBDAAoHBwkHBgoJCAkLCwoMDxkQDw4ODx4WFxIZJCAmJSMgIyIoLTkwKCo2KyIjMkQyNjs9QEBAJjBGS0U+Sjk/QD3/2wBDAQsLCw8NDx0QEB09KSMpPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT3/wAARCADhAOEDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD2WiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKy9b8SaT4dt/O1a/htlIyqsfmb6KOT+Arzz4gfF9NLkl0zw2yS3g+WW7OGSI+ijoze54Hv28Tvr661K7e6vbiS4uHOWkkYkn86APa9W+PWnwsU0nS57rnHmTyCIfUAZJH1xXM3Hx48ROx8iy02JOwMbsR+O7+leZUUAekJ8dPE6HmDTH9jC/9Hrc034/NlV1TRVI/iktpsfkrD+teN0UAfUfhz4i+HfE5SKyvhFdN0t7geXIT6Dsx/wB0muor40r0rwN8Xr/RJI7LXXkvtO+75hOZofoT94ex59D2IB9A0VV0++tdTsYruymSa3mXejochh/nt26VaoAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK8i+LfxGayMvh7RpSs5GLydDjYD/yzU+pHU9s465x3PjvxOvhPwtdagpU3J/dWynoZG6fXABOPQV8uTTSXE0ksrs8kjFndjksT1JPc5oAjooooAKKKKACiiigAooooA7b4ceP5vB2qCG5d30m4b99H18s/wB9R6juB1HvjH0hBPHcwRzwOskUqh0dTkMp5BB7givjmvb/AII+Lnu7Obw7eOWktl821JOcx5+ZfwJBHsT2FAHrlFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAeD/HfWmufENnpMbfu7OHzXAPV39R7KoP/AjXlldP8SLz7d8Q9alznbcGL/vgBP8A2WuYoAKKKKACiiigAooooAKKKKACtrwjrR8PeK9N1INtSGYeaevyH5X/APHSaxaKAPsuisrwvdtf+FNJu5OXms4nb6lAT+tatABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAfJ/jMFfHGu5BB/tC4P/AJEasSux+K9ibH4jamCpCTskyH1DKCf/AB7I/CuOoAKKKKACiiigAooooAKKKKACiinKpchVBLE4AHegD6q8BgjwJoYPX7FEf/HRW/VLRrEaZolhYj/l1t44eufuqB/SrtABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAeOfHjQSyWGuxJkJ/os5A6DlkP0zuGfcCvF6+u9c0i317RbvTbwZhuYyhIGSp6hh7ggEe4r5W13RLrw7rFzpl8m2aBsZHRx2YexGD+NAGbRRRQAUUUUAFFFFABRRRQAV13wy0Btf8cWMZUmC1f7VMf9lDkD8WwPxrka+kfhV4Nbwt4cMt5Ht1G+xJMp6xqPup9QCSfckc4oA7qiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKK5vxH4+0DwtlNSvQbkDItohvkP4D7v44rz/UPj+odl0zRCV7PcTYP/AHyo/rQB7JXGfETwBB4z00PCVh1S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\"","import React,{useState} from 'react';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport {connect} from 'react-redux'\r\nimport defProfPic from '../images/defProf.jpg'\r\nimport * as ACTIONS from '../store/actions'\r\nimport axios from 'axios'\r\n\r\n\r\n\r\nfunction Notification(props) {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleNotification = (response,sender,receiver,notifID)=>{\r\n    axios.post('/handle-notification',{response,sender,receiver,notifID}).then(res=>{\r\n      props.getUserInfo(res.data)\r\n    })\r\n  }\r\n\r\n  const body = (\r\n    <div className='friend_search_container'>\r\n      <h2 id=\"simple-modal-title\">Notifications</h2>\r\n      <List style={{'width':'80%','margin': '0 auto','overflow':'auto'}} >\r\n        {props.chat.user.notifications ? props.chat.user.notifications.map(notif=>{\r\n          return  <ListItem key={notif.id}>\r\n                  <Avatar style={{'border':'2px solid black'}} alt=\"Remy Sharp\" src={notif.image!==\"\" ? notif.image : defProfPic} />\r\n                      <ListItemText style={{'margin':'0 20px'}} primary={notif.notif} />\r\n                      <ListItemIcon>\r\n                          <i onClick={()=> handleNotification(true,props.chat.user.username,notif.username,notif.id)} className=\"fas fa-check-circle\"></i>\r\n                          <i onClick={()=> handleNotification(false,props.chat.user.username,notif.username,notif.id)} className=\"fas fa-times-circle\"></i>\r\n                      </ListItemIcon>\r\n                  </ListItem>\r\n        }) : ''}\r\n      </List>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n        <i className=\"fas fa-envelope\" onClick={handleOpen}><p>{props.chat.user.notifications ? props.chat.user.notifications.length : ''}</p></i>\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n        {body}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state =>{\r\n  return {\r\n    chat: state.chat\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n  return {\r\n    getUserInfo: (user)=> dispatch(ACTIONS.getUserInfo(user))\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Notification);","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SearchFriend from './SearchFriend'\r\nimport Notifications from './Notifications'\r\nimport {connect} from 'react-redux'\r\nimport * as ACTIONS from '../store/actions'\r\n\r\n\r\nfunction ControlTabs(props) {\r\n\r\n  return (\r\n    <>\r\n      <IconButton aria-label=\"add\">\r\n         <SearchFriend/>\r\n      </IconButton>\r\n      <IconButton aria-label=\"chats\">\r\n          <i className=\"fas fa-comments\" onClick={()=> props.switchChats(false)}></i>\r\n      </IconButton>\r\n      <IconButton aria-label=\"group\">\r\n         <i className=\"fas fa-users\" onClick={()=> props.switchChats(true)}></i>\r\n      </IconButton>\r\n      <IconButton aria-label=\"notification\">\r\n         <Notifications/>\r\n      </IconButton>\r\n      <IconButton aria-label=\"logout\">\r\n         <a href='/logout'><i className=\"fas fa-sign-out-alt\"></i></a>\r\n      </IconButton>\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n   return {\r\n      switchChats: (res)=> dispatch(ACTIONS.switchChats(res))\r\n   }\r\n}\r\n\r\nconst mapStateToProps = state=>{\r\n   return {\r\n      chat: state.chat\r\n   }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(ControlTabs);\r\n","import firebase from 'firebase'\r\nimport 'firebase/firestore'\r\n\r\nconst firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_API_KEY,\r\n    authDomain: `${process.env.REACT_APP_PROJECT_ID}.firebaseapp.com`,\r\n    databaseURL: `https://${process.env.REACT_APP_PROJECT_ID}.firebaseio.com`,\r\n    projectId: process.env.REACT_APP_PROJECT_ID,\r\n    storageBucket: `${process.env.REACT_APP_PROJECT_ID}.appspot.com`,\r\n    messagingSenderId: process.env.REACT_APP_SENDER_ID,\r\n    appId: process.env.REACT_APP_APP_ID,\r\n    measurementId: process.env.REACT_APP_MEASUREMENT_ID\r\n  };\r\n\r\n  firebase.initializeApp(firebaseConfig)\r\n\r\n  export default firebase;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport {connect} from 'react-redux'\r\nimport uniqid from 'uniqid'\r\nimport defProfImage from '../images/defProf.jpg'\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport * as ACTIONS from '../store/actions'\r\nimport firebase from '../store/firebaseInit'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    maxWidth: 360,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\nconst firestore = firebase.firestore()\r\n\r\nfunction Friends(props) {\r\n  const classes = useStyles();\r\n  const viewUserProfile = (username)=>{\r\n    axios.post('/profile-info',{username}).then(res=>{\r\n      props.getUserProfile(res.data)\r\n    })\r\n  }\r\n  const setChatWithUser = (username)=>{\r\n    axios.post('/profile-info',{username}).then(res=>{\r\n      props.userChat(res.data)\r\n      const senderRef = firestore.collection(props.chat.user.username).doc(res.data.username)\r\n      senderRef.get().then(s=>{\r\n        if(s.data()){\r\n          props.getChat(s.data().message)\r\n        }else{\r\n          props.getChat([])\r\n        }\r\n        let conversation = document.querySelector(\".conversation_window\")\r\n        conversation.scrollTop = conversation.scrollHeight\r\n      })\r\n    })\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n    {!props.chat.switchChats ? (()=>{\r\n      return   <List dense className={classes.root}>\r\n      {props.chat.user.friends ? props.chat.user.friends.map(friend=>{\r\n        return  <ListItem key={uniqid()} button style={{'backgroundColor': props.chat.currentChat.username === friend.username ? 'lightgrey' : 'white'}}>\r\n            <ListItemAvatar>\r\n              <div>\r\n                <Link onClick={() => viewUserProfile(friend.username)} to='/user-profile'><img style={{'backgroundColor':'white'}} src={friend.profImage ? friend.profImage : defProfImage}/></Link>\r\n              </div>\r\n            </ListItemAvatar>\r\n            <ListItemText primary={friend.name} />\r\n            <ListItemSecondaryAction>\r\n            <IconButton aria-label=\"chats\">\r\n                <i onClick={()=> setChatWithUser(friend.username) } className=\"fas fa-comment-dots\"></i>\r\n            </IconButton>\r\n            </ListItemSecondaryAction>\r\n          </ListItem>\r\n      }):\"\"}\r\n    </List>\r\n    })():'' }\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state =>{\r\n  return {\r\n    chat: state.chat\r\n  }\r\n}\r\n\r\nconst mapStateToDispatch = dispatch =>{\r\n  return {\r\n    getUserProfile: (user)=> dispatch(ACTIONS.getUserProfile(user)),\r\n    userChat: (user)=> dispatch(ACTIONS.userChat(user)),\r\n    getChat: (chat)=> dispatch(ACTIONS.getChat(chat))\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps,mapStateToDispatch)(Friends);\r\n","export default __webpack_public_path__ + \"media/defUsers.c44fbe62.jpg\";","import React,{useState} from 'react';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport TextField from '@material-ui/core/TextField'\r\nimport axios from 'axios'\r\nimport {connect} from 'react-redux'\r\nimport * as ACTIONS from '../store/actions'\r\n\r\n\r\nfunction CreateGroupChat(props) {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n\r\n  const createGroupChat = (e)=>{\r\n    let target=  e.target\r\n    let name = target.value\r\n    let filter = props.chat.user.groupChats.filter(i=> i.name === name)\r\n\r\n    if(e.keyCode === 13 && filter.length === 0){\r\n      axios.post('/create-groupChat',{name}).then(res=>{\r\n          console.log(res.data)\r\n        props.getUserInfo(res.data)\r\n      })\r\n    }else if(filter.length > 0){\r\n\r\n    }\r\n  }\r\n\r\n  const body = (\r\n    <form onSubmit={(e)=>e.preventDefault()} className='friend_search_container'>\r\n      <h2 id=\"simple-modal-title\">Create Group Chat</h2>\r\n      <TextField onKeyDown={createGroupChat} style={{'width':'80%','margin': '10px auto'}} variant='outlined' label='Name of chat...'></TextField>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n        <i onClick={handleOpen} class=\"fas fa-plus-circle\"></i>\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n        {body}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state =>{\r\n  return {\r\n    chat: state.chat\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n  return {\r\n    searchCriteria: (result)=> dispatch(ACTIONS.searchCriteria(result)),\r\n    getUserInfo: (user)=> dispatch(ACTIONS.getUserInfo(user))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(CreateGroupChat);","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport {connect} from 'react-redux'\r\nimport uniqid from 'uniqid'\r\nimport defUsers from '../images/defUsers.jpg'\r\nimport * as ACTIONS from '../store/actions'\r\nimport firebase from '../store/firebaseInit'\r\nimport CreateGroupChat from './CreateGroupChat'\r\nimport axios from 'axios'\r\n\r\n\r\nconst firestore = firebase.firestore()\r\n\r\nfunction GroupChats(props) {\r\n\r\n  const setChatWithUser = (group)=>{\r\n      props.userChat(group)\r\n      axios.post('/getGroupChat',{username:group.maker.email,name:group.name}).then(res=>{\r\n        props.userChat(res.data)\r\n        const senderRef = firestore.collection(group.maker.email).doc(group.name)\r\n        senderRef.get().then(s=>{\r\n          if(s.data()){\r\n            props.getChat(s.data().message)\r\n          }else{\r\n            props.getChat([])\r\n          }\r\n          let conversation = document.querySelector(\".conversation_window\")\r\n          conversation.scrollTop = conversation.scrollHeight\r\n        })\r\n      })\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n    {props.chat.switchChats ? (()=>{\r\n      return <><div style={{'display':'flex','justifyContent':'center','borderBottom':\"1px solid lightgrey\"}}>\r\n      <h4>Create Group Chat  <IconButton aria-label=\"chats\" style={{'color': '#1D976C'}}>\r\n          <CreateGroupChat/>\r\n      </IconButton></h4>\r\n      </div>\r\n      <ul className='group_chats'>\r\n      {props.chat.user.groupChats ? props.chat.user.groupChats.map(group=>{\r\n        return  <li key={uniqid()} style={{'backgroundColor': props.chat.currentChat.name === group.name ? 'lightgrey' : 'white'}}>\r\n                <span style={{'margin':'0 10px'}}>\r\n                  <img style={{'background':'white','borderRadius':'50%'}} src={defUsers}/>\r\n                </span>\r\n                <p style={{'marginTop':'15px'}}>{group.name}</p>\r\n                <span className='options_c' style={{'float':'left','display':'flex','justifyContent':'center'}}>\r\n                  <i style={{'cursor':'pointer'}} onClick={()=> setChatWithUser(group) } className=\"fas fa-comment-dots\"></i>\r\n                </span>\r\n          </li>\r\n      }):\"\"}\r\n    </ul></>\r\n    })():'' }\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state =>{\r\n  return {\r\n    chat: state.chat\r\n  }\r\n}\r\n\r\nconst mapStateToDispatch = dispatch =>{\r\n  return {\r\n    getUserProfile: (user)=> dispatch(ACTIONS.getUserProfile(user)),\r\n    userChat: (user)=> dispatch(ACTIONS.userChat(user)),\r\n    getChat: (chat)=> dispatch(ACTIONS.getChat(chat))\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps,mapStateToDispatch)(GroupChats);\r\n","import React from 'react'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport ControlTabs from './ControlTabs'\r\nimport Friends from './Friends'\r\nimport {Link} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport defProfPic from '../images/defProf.jpg'\r\nimport axios from 'axios'\r\nimport * as ACTIONS from '../store/actions'\r\nimport GroupChats from './GroupChats'\r\n\r\nfunction ChatDrawer(props) {\r\n    const getProfileData = (username)=>{\r\n        axios.post('/profile-info',{username}).then(res=>{\r\n            props.getUserProfile(res.data)\r\n        })\r\n    }\r\n    return (\r\n        <div className='drawer_container'>\r\n                <div className='profile_summary'>\r\n                <Link onClick={()=>getProfileData(props.chat.user.username)} to='/user-profile'><div className='profile_img' style={{'backgroundImage': props.chat.user.profileImage? `url(${props.chat.user.profileImage})` : `url(${defProfPic})` }}></div></Link>\r\n                <h3>{props.chat.user ? props.chat.user.name : '' }</h3>\r\n                </div>\r\n                <Divider></Divider>\r\n                <div className='friends_container'>\r\n                    <Friends/>\r\n                    <GroupChats/>\r\n                </div>\r\n                <Divider></Divider>\r\n                <div className='control_tabs'>\r\n                    <ControlTabs/>\r\n                </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state=>{\r\n    return {\r\n        chat: state.chat\r\n    }\r\n}\r\nconst mapDispatchToProps = dispatch =>{\r\n    return {\r\n        getUserProfile: (user) => dispatch(ACTIONS.getUserProfile(user))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(ChatDrawer);\r\n","import React,{useState} from 'react'\r\n\r\nfunction Emoji() {\r\n    const [open,setOpen] = useState(false)\r\n\r\n    const handleOpen= (e)=>{\r\n        let target = e.target\r\n        if(target.classList.contains('fa-smile-beam')){\r\n            setOpen(!open)\r\n        }\r\n    }\r\n\r\n    const insertEmoji = (e)=>{\r\n        let parent = document.querySelector('.message_chat_value')\r\n        let textMessage = parent.children[1].children[0]\r\n        let target = e.target\r\n        if(target.classList.contains('emoji')){\r\n            textMessage.value += target.innerHTML\r\n        }\r\n    }\r\n\r\n    return (\r\n        <i className=\"fas fa-smile-beam\" onClick={handleOpen} style={{'position':\"relative\"}}>\r\n             <div onClick={insertEmoji} className=\"emoji_container\" style={{'display': open ? 'grid' :'none'}}>\r\n                <p className=\"emoji\">&#128540;</p>\r\n                <p className=\"emoji\">&#128512;</p>\r\n                <p className=\"emoji\">&#128513;</p>\r\n                <p className=\"emoji\">&#128514;</p>\r\n                <p className=\"emoji\">&#128515;</p>\r\n                <p className=\"emoji\">&#128516;</p>\r\n                <p className=\"emoji\">&#128517;</p>\r\n                <p className=\"emoji\">&#128518;</p>\r\n                <p className=\"emoji\">&#128519;</p>\r\n                <p className=\"emoji\">&#128520;</p>\r\n                <p className=\"emoji\">&#128521;</p>\r\n                <p className=\"emoji\">&#128522;</p>\r\n                <p className=\"emoji\">&#128523;</p>\r\n                <p className=\"emoji\">&#128524;</p>\r\n                <p className=\"emoji\">&#128525;</p>\r\n                <p className=\"emoji\">&#128526;</p>\r\n                <p className=\"emoji\">&#128527;</p>\r\n                <p className=\"emoji\">&#128528;</p>\r\n                <p className=\"emoji\">&#128529;</p>\r\n                <p className=\"emoji\">&#128530;</p>\r\n                <p className=\"emoji\">&#128526;</p>\r\n                <p className=\"emoji\">&#128527;</p>\r\n                <p className=\"emoji\">&#128528;</p>\r\n                <p className=\"emoji\">&#128529;</p>\r\n                <p className=\"emoji\">&#128530;</p>\r\n                <p className=\"emoji\">&#128531;</p>\r\n                <p className=\"emoji\">&#128536;</p>\r\n                <p className=\"emoji\">&#128533;</p>\r\n                <p className=\"emoji\">&#128538;</p>\r\n                <p className=\"emoji\">&#128552;</p>\r\n                <p className=\"emoji\">&#128557;</p>\r\n                <p className=\"emoji\">&#128564;</p>\r\n                <p className=\"emoji\">&#128567;</p>\r\n                <p className=\"emoji\">&#129297;</p>\r\n                <p className=\"emoji\">&#129488;</p>\r\n      </div></i>\r\n    )\r\n}\r\n\r\nexport default Emoji;\r\n","import React,{useState} from 'react';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport {connect} from 'react-redux'\r\nimport * as ACTIONS from '../store/actions'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport uuid from 'uuid/v4'\r\nimport axios from 'axios'\r\n\r\n\r\n\r\n\r\nfunction GroupChatInfo(props) {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const removeUser = (maker,user,chatName)=>{\r\n    axios.post('/remove-groupMember',{maker,user,chatName}).then(res=>{\r\n      props.userChat(res.data)\r\n    })\r\n  }\r\n\r\n\r\n  const body = (\r\n\r\n    <div className='friend_search_container'>\r\n        {props.chat.switchChats ? (()=>{\r\n            return <>\r\n                <h4>{props.chat.currentChat.name}</h4>\r\n                <h5>Members</h5>\r\n            </>\r\n        })():''}\r\n        <List style={{'width':'80%','margin': '0 auto','overflow':'auto'}} >\r\n        {props.chat.currentChat.maker ? (()=>{\r\n            return <ListItem>\r\n                            <ListItemText style={{'margin':'0 20px','fontWeight':'bold'}} primary={`${props.chat.currentChat.maker.name}(Owner)`} />\r\n                    </ListItem>\r\n        })():''}\r\n        {props.chat.currentChat.users ? props.chat.currentChat.users.map(user=>{\r\n          return  <ListItem key={uuid()}>\r\n                      <ListItemText style={{'margin':'0 20px'}} primary={user.name} />\r\n                      <ListItemIcon>\r\n                          {props.chat.currentChat.maker.email === props.chat.user.username || props.chat.user.username  === user.username ? <i onClick={()=>removeUser(props.chat.currentChat.maker.email,user.username,props.chat.currentChat.name)} className=\"fas fa-times-circle\"></i> : ''}\r\n                      </ListItemIcon>\r\n                  </ListItem>\r\n        }) : ''}\r\n      </List>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n        <i style={{'marginRight':'10px','cursor':'pointer'}} onClick={handleOpen} class=\"fas fa-info-circle\"></i>\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n        {body}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state =>{\r\n  return {\r\n    chat: state.chat\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n  return {\r\n    getUserInfo: (user)=> dispatch(ACTIONS.getUserInfo(user)),\r\n    userChat: (user)=> dispatch(ACTIONS.userChat(user))\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(GroupChatInfo);","import React,{useState} from 'react';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport TextField from '@material-ui/core/TextField'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport axios from 'axios'\r\nimport {connect} from 'react-redux'\r\nimport * as ACTIONS from '../store/actions'\r\nimport uniqid from 'uniqid'\r\n\r\n\r\nfunction AddGroupMember(props) {\r\n  const [open, setOpen] = useState(false);\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const searchUser = (e)=>{\r\n    let matching = []\r\n    let target=  e.target\r\n    let criteria = target.value\r\n    let regex = new RegExp(criteria,'i')\r\n    if(e.keyCode === 13){\r\n        props.chat.user.friends.map(friend=>friend.name.match(regex) ? matching.push(friend):'')\r\n        props.searchCriteria(matching)\r\n    }\r\n  }\r\n\r\n  const addGroupMember = (newUser,newUserName,chatName)=>{\r\n      let chat = props.chat.user.groupChats.filter(chat=>chat.name === chatName)\r\n      let users = chat[0].users.map(user=>user.username)\r\n      if(!users.includes(newUser)){\r\n        axios.post('/add-groupMember',{chatName,newUserName,newUser}).then(res=>props.userChat(res.data))\r\n      }\r\n  }\r\n  \r\n\r\n  const body = (\r\n    <form onSubmit={(e)=>e.preventDefault()} className='friend_search_container'>\r\n      <h2 id=\"simple-modal-title\">Search User</h2>\r\n      <TextField onKeyDown={searchUser} style={{'width':'80%','margin': '10px auto'}} variant='outlined' label='Name...'></TextField>\r\n      <List style={{'width':'80%','margin': '0 auto','overflow':'auto'}} >\r\n        {props.chat.searchCriteria ? props.chat.searchCriteria.map(item=>{\r\n             return <ListItem key={uniqid()}>\r\n             <Avatar style={{'border':'2px solid black'}} src={item.image} />\r\n                 <ListItemText style={{'margin':'0 20px'}} primary={item.name}/>\r\n                 <ListItemIcon>\r\n                     <i onClick={()=>addGroupMember(item.username,item.name,props.chat.currentChat.name)} className=\"fas fa-user\"></i>\r\n                 </ListItemIcon>\r\n             </ListItem>\r\n        }): 'No results.'}\r\n      </List>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n        <i style={{'cursor':'pointer'}} className=\"fas fa-user-plus\" onClick={handleOpen}></i>\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n        {body}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state =>{\r\n  return {\r\n    chat: state.chat\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n  return {\r\n    searchCriteria: (result)=> dispatch(ACTIONS.searchCriteria(result)),\r\n    getUserInfo: (user)=> dispatch(ACTIONS.getUserInfo(user)),\r\n    userChat: (user)=> dispatch(ACTIONS.userChat(user))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(AddGroupMember);","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    justifyContent:'center',\r\n    alignItems:'center',\r\n    '& > * + *': {\r\n      marginLeft: theme.spacing(2),\r\n    },\r\n    position:'absolute',\r\n    top: \"10px\",\r\n    right: \"10px\"\r\n  },\r\n}));\r\n\r\nfunction Spinner(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CircularProgress style={{'color':'#1D976C'}} />\r\n      <span style={{'color':'#1D976C'}}>{props.action}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Spinner;","import React, { useState } from 'react'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport {connect} from 'react-redux'\r\nimport moment from 'moment'\r\nimport uniqid from 'uniqid'\r\nimport * as ACTIONS from '../store/actions'\r\nimport $ from 'jquery'\r\nimport firebase from '../store/firebaseInit'\r\nimport 'firebase/firestore'\r\nimport { saveAs } from 'file-saver';\r\nimport Emoji from './Emoji'\r\nimport GroupChatInfo from '../ChatDrawer/GroupChatInfo'\r\nimport AddGroupMember from '../ChatDrawer/AddGroupMember'\r\nimport Spinner from './Spinner'\r\n\r\n\r\n\r\nconst firestore = firebase.firestore()\r\nconst arrayUnion = firebase.firestore.FieldValue.arrayUnion\r\n\r\nfunction ChatWindow(props) {\r\n  const [spinner,setSpinner] = useState(false)\r\n  const [error,setError] = useState(null)\r\n    const sendMessage = (type,value)=>{\r\n        let sender = props.chat.user ? props.chat.user.username : ''\r\n        let receiver = props.chat.currentChat ? props.chat.currentChat.username : ''\r\n        let parent = document.querySelector('.message_chat_value')\r\n        let textMessage = parent.children[1].children[0]\r\n        let conversation = document.querySelector(\".conversation_window\")\r\n\r\n        if(sender && receiver && !props.chat.switchChats){\r\n          if(type==='message'){\r\n            value = textMessage.value\r\n          }\r\n           //Check if collection exists\r\n          const senderRef = firestore.collection(sender).doc(receiver)\r\n          senderRef.get().then(s=>{\r\n            if(s.data()){\r\n                    //Update conversation between the users\r\n                const docReceiver  = firestore.doc(`${receiver}/${sender}`)\r\n                const docSender = firestore.doc(`${sender}/${receiver}`)\r\n\r\n                docReceiver.update({\r\n                  message: arrayUnion({id:sender,value,type})\r\n                })\r\n                docSender.update({\r\n                  message: arrayUnion({id:sender,value,type})\r\n                })\r\n                props.getChat([...s.data().message,{id:sender,value,type}])\r\n            }else{\r\n              firestore.collection(receiver).doc(sender).set({\r\n                message: [{id:sender,value,type}]\r\n              })\r\n              firestore.collection(sender).doc(receiver).set({\r\n                message: [{id:sender,value,type}]\r\n              })\r\n              props.getChat([{id:sender,value,type}])\r\n            }\r\n            textMessage.value = ''\r\n            conversation.scrollTop = conversation.scrollHeight\r\n          })\r\n        }else if(props.chat.switchChats){\r\n             let maker = props.chat.currentChat ? props.chat.currentChat.maker.email : ''\r\n             let name = props.chat.currentChat ? props.chat.currentChat.name : ''\r\n\r\n             if(type==='message'){\r\n              value = textMessage.value\r\n            }\r\n             //Check if collection exists\r\n            const senderRef = firestore.collection(maker).doc(name)\r\n            senderRef.get().then(s=>{\r\n              if(s.data()){\r\n                      //Update conversation between the users\r\n                  const docReceiver  = firestore.doc(`${maker}/${name}`)\r\n                  docReceiver.update({\r\n                    message: arrayUnion({id:sender,value,type})\r\n                  })\r\n                  props.getChat([...s.data().message,{id:sender,value,type}])\r\n\r\n              }else{\r\n                firestore.collection(maker).doc(name).set({\r\n                  message: [{id:sender,value,type}]\r\n                })\r\n                props.getChat([{id:sender,value,type}])\r\n              }\r\n              conversation.scrollTop = conversation.scrollHeight\r\n              textMessage.value = ''\r\n              conversation.scrollTop = conversation.scrollHeight\r\n\r\n            })\r\n        }\r\n      }\r\n      const sendImage = (e)=>{\r\n          const ALLOWED_T = ['image/png','image/jpeg','image/jpg']\r\n          let file = e.target.files[0]\r\n          if(file && ALLOWED_T.includes(file.type)){\r\n              let form = new FormData();\r\n              form.append(\"image\", file)\r\n              \r\n              let settings = {\r\n                \"url\": process.env.REACT_APP_URL,\r\n                \"method\": \"POST\",\r\n                \"timeout\": 0,\r\n                \"processData\": false,\r\n                \"mimeType\": \"multipart/form-data\",\r\n                \"contentType\": false,\r\n                \"data\": form\r\n              };\r\n              setSpinner(true)\r\n    \r\n              $.ajax(settings).done(function (response) {\r\n                let jx = JSON.parse(response);\r\n                setError(null)\r\n                sendMessage('image',jx.data.url)\r\n            }).then(()=>setSpinner(false));\r\n        }else{\r\n          setError('File not supported (select a image).')\r\n        }\r\n      }\r\n\r\n      const sendFile = (e)=>{\r\n        let file = e.target.files[0]\r\n        let id = uniqid()\r\n        let storageRef = firebase.storage().ref(`${props.chat.user.username}/${file.name}${id}`)\r\n        let conversation = document.querySelector(\".conversation_window\")\r\n        setSpinner(true)\r\n        let uploadFile = storageRef.put(file).then(i=>{\r\n          let storage = firebase.storage().ref()\r\n\r\n          let url = storage.child(`${props.chat.user.username}/${file.name}${id}`).getDownloadURL().then(res=>{\r\n            let sender = props.chat.user ? props.chat.user.username : ''\r\n            let receiver = props.chat.currentChat ? props.chat.currentChat.username : ''\r\n            let parent = document.querySelector('.message_chat_value')\r\n            let textMessage = parent.children[1].children[0]\r\n            let value = res\r\n            let type = 'file'\r\n\r\n\r\n\r\n            if(sender && receiver && !props.chat.switchChats){\r\n               //Check if collection exists\r\n              const senderRef = firestore.collection(sender).doc(receiver)\r\n              senderRef.get().then(s=>{\r\n                if(s.data()){\r\n                    //Update conversation between the users\r\n                    const docReceiver  = firestore.doc(`${receiver}/${sender}`)\r\n                    const docSender = firestore.doc(`${sender}/${receiver}`)\r\n                    docReceiver.update({\r\n                      message: arrayUnion({id:sender,value,type,fileName: file.name})\r\n                    })\r\n                    docSender.update({\r\n                      message: arrayUnion({id:sender,value,type,fileName: file.name})\r\n                    })\r\n                    props.getChat([...s.data().message,{id:sender,value,type}])\r\n                }else{\r\n                  firestore.collection(receiver).doc(sender).set({\r\n                    message: [{id:sender,value,type,fileName: file.name}]\r\n                  })\r\n                  firestore.collection(sender).doc(receiver).set({\r\n                    message: [{id:sender,value,type,fileName: file.name}]\r\n                  })\r\n                  props.getChat([{id:sender,value,type}])\r\n                }\r\n                setSpinner(false)\r\n                textMessage.value = ''\r\n                conversation.scrollTop = conversation.scrollHeight\r\n\r\n              })\r\n            }else if(props.chat.switchChats){\r\n              let maker = props.chat.currentChat ? props.chat.currentChat.maker.email : ''\r\n              let name = props.chat.currentChat ? props.chat.currentChat.name : ''\r\n\r\n              const senderRef = firestore.collection(maker).doc(name)\r\n              senderRef.get().then(s=>{\r\n                if(s.data()){\r\n                    //Update conversation between the users\r\n                    const docReceiver  = firestore.doc(`${maker}/${name}`)\r\n                    docReceiver.update({\r\n                      message: arrayUnion({id:sender,value,type,fileName: file.name})\r\n                    })\r\n                    props.getChat([...s.data().message,{id:sender,value,type}])\r\n                }else{\r\n                  firestore.collection(maker).doc(name).set({\r\n                    message: [{id:sender,value,type,fileName: file.name}]\r\n                  })\r\n                  props.getChat([{id:sender,value,type}])\r\n                  \r\n                }\r\n              })\r\n              setSpinner(false)\r\n              textMessage.value = ''\r\n              conversation.scrollTop = conversation.scrollHeight\r\n         }\r\n          })\r\n        })\r\n      }\r\n\r\n      const downloadFile = (download,href)=>{\r\n        saveAs(href,download)\r\n      }\r\n\r\n    return (\r\n        <div className='chat_window'>\r\n          {spinner ? <Spinner action='Sending...' /> : ''}\r\n            <div className='connection_container'>\r\n                <div className='user_chat'>\r\n                    <h3>{props.chat.currentChat.name  ? props.chat.currentChat.name.length <= 30 ? props.chat.currentChat.name : props.chat.currentChat.name.substring(0,30) + \"...\":\"\"}</h3>\r\n                    <span>{props.chat.currentChat.lastActive ?'Last online: ' + moment(parseInt(props.chat.currentChat.lastActive)).format('LLL') : '' }</span>\r\n                    <div className='group_options'>\r\n                      {props.chat.currentChat.maker ? <GroupChatInfo/> : ''}\r\n                      {props.chat.currentChat.maker && props.chat.currentChat.maker.email === props.chat.user.username ? <AddGroupMember/>:''}\r\n                    </div>\r\n                    {error ? <p style={{'color':'red','position':'absolute','bottom':'0','left':'43%'}}>{error}</p> : ''}\r\n                </div>\r\n            </div>\r\n            <div className='conversation_window'>\r\n              {props.chat.chat.map((msg,i)=>{\r\n\r\n                if(i===props.chat.chat.length - 1){\r\n                  if(msg.type==='message'){\r\n                    if(props.chat.currentChat.maker){\r\n                      return <span style={{'animation':'visibility 300ms linear'}} className={msg.id === props.chat.user.username ? 'user_sender':'user_receiver'} key={uniqid()}>\r\n                      <span><strong>{msg.id}:</strong><br></br>{msg.value}</span>\r\n                      </span>\r\n                    }else{\r\n                      return <span style={{'animation':'visibility 300ms linear'}} className={msg.id === props.chat.user.username ? 'user_sender':'user_receiver'} key={uniqid()}>\r\n                      <span>{msg.value}</span>\r\n                      </span>\r\n                    }\r\n                  }else if(msg.type === 'image'){\r\n                    if(props.chat.currentChat.maker){\r\n                      return <span style={{'animation':'visibility 300ms linear'}} className={msg.id === props.chat.user.username ? 'user_sender':'user_receiver'} key={uniqid()}>\r\n                      <p>\r\n                          <a target='_blank' href={msg.value}><strong>{msg.id}:</strong><br></br><div style={{'backgroundImage': `url(${msg.value})` }}></div></a>\r\n                      </p>\r\n                    </span>\r\n                    }else{\r\n                      return <span style={{'animation':'visibility 300ms linear'}} className={msg.id === props.chat.user.username ? 'user_sender':'user_receiver'} key={uniqid()}>\r\n                      <p>\r\n                          <a target='_blank' href={msg.value}><div style={{'backgroundImage': `url(${msg.value})` }}></div></a>\r\n                      </p>\r\n                    </span>\r\n                    }\r\n                  }else if(msg.type==='file'){\r\n                    if(props.chat.currentChat.maker){\r\n                      return <span style={{'animation':'visibility 300ms linear','margin':'8px 0'}} className={msg.id === props.chat.user.username ? 'user_sender':'user_receiver'} key={uniqid()}>\r\n                      <a onClick={()=> downloadFile(msg.fileName,msg.value)}><i style={{'color':'black'}} className=\"fas fa-file\"></i><strong>{msg.id}:</strong><br></br>{msg.fileName}</a>\r\n                      </span>\r\n                    }else{\r\n                      return <span style={{'animation':'visibility 300ms linear','margin':'8px 0'}} className={msg.id === props.chat.user.username ? 'user_sender':'user_receiver'} key={uniqid()}>\r\n                      <a onClick={()=> downloadFile(msg.fileName,msg.value)}><i style={{'color':'black'}} className=\"fas fa-file\"></i>{msg.fileName}</a>\r\n                     </span>\r\n                    }\r\n                  }\r\n                }\r\n\r\n\r\n\r\n                    if(msg.type==='message'){\r\n                      if(props.chat.currentChat.maker){\r\n                        return <span  className={msg.id === props.chat.user.username ? 'user_sender':'user_receiver'} key={uniqid()}>\r\n                        <span><strong>{msg.id}:</strong><br></br>{msg.value}</span>\r\n                        </span>\r\n                      }else{\r\n                        return <span className={msg.id === props.chat.user.username ? 'user_sender':'user_receiver'} key={uniqid()}>\r\n                        <span>{msg.value}</span>\r\n                        </span>\r\n                      }\r\n                    }else if(msg.type === 'image'){\r\n                      if(props.chat.currentChat.maker){\r\n                        return <span className={msg.id === props.chat.user.username ? 'user_sender':'user_receiver'} key={uniqid()}>\r\n                        <p>\r\n                            <a target='_blank' href={msg.value}><strong>{msg.id}:</strong><br></br><div style={{'backgroundImage': `url(${msg.value})` }}></div></a>\r\n                        </p>\r\n                      </span>\r\n                      }else{\r\n                        return <span className={msg.id === props.chat.user.username ? 'user_sender':'user_receiver'} key={uniqid()}>\r\n                        <p>\r\n                            <a target='_blank' href={msg.value}><div style={{'backgroundImage': `url(${msg.value})` }}></div></a>\r\n                        </p>\r\n                      </span>\r\n                      }\r\n                    }else if(msg.type==='file'){\r\n                      if(props.chat.currentChat.maker){\r\n                        return <span style={{'margin':'8px 0'}} className={msg.id === props.chat.user.username ? 'user_sender':'user_receiver'} key={uniqid()}>\r\n                        <a onClick={()=> downloadFile(msg.fileName,msg.value)}><i style={{'color':'black'}} className=\"fas fa-file\"></i><strong>{msg.id}:<br></br>{msg.fileName}</strong> {msg.fileName}</a>\r\n                        </span>\r\n                      }else{\r\n                        return <span style={{'margin':'8px 0'}} className={msg.id === props.chat.user.username ? 'user_sender':'user_receiver'} key={uniqid()}>\r\n                        <a onClick={()=> downloadFile(msg.fileName,msg.value)}><i style={{'color':'black'}} className=\"fas fa-file\"></i>{msg.fileName}</a>\r\n                       </span>\r\n                      }\r\n                    }\r\n              })}\r\n            </div>\r\n            <Divider></Divider>\r\n            <div className='controls'>\r\n                <TextField disabled={spinner? true:false} onKeyDown={(e)=>e.keyCode === 13 ? sendMessage('message','') : ''} className='message_chat_value' id=\"outlined-basic\" label=\"Message...\" variant=\"outlined\" />\r\n                <div className='chat_icons'>\r\n                <IconButton disabled={spinner? true:false} aria-label=\"add\">\r\n                    <i onClick={()=>sendMessage('message','')} className=\"fas fa-reply\"></i>\r\n                </IconButton>\r\n                <IconButton disabled={spinner? true:false} aria-label=\"add\">\r\n                    <Emoji/>\r\n                </IconButton>\r\n                <IconButton disabled={spinner? true:false} aria-label=\"add\">\r\n                    <div className='uploadIcon'>\r\n                        <input\r\n                            accept=\"image/*\"\r\n                            id=\"contained-button-file\"\r\n                            multiple\r\n                            type=\"file\"\r\n                        />\r\n                        <input onChange={sendImage} accept=\"image/*\" id=\"icon-button-file\" type=\"file\" />\r\n                        <label htmlFor=\"icon-button-file\">\r\n                            <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\r\n                            <i className=\"fas fa-image\"></i>\r\n                            </IconButton>\r\n                        </label>\r\n                    </div>\r\n                </IconButton>\r\n                <IconButton aria-label=\"add\" disabled={spinner? true:false}>\r\n                <div className='uploadIcon'>\r\n                    <input\r\n                        accept=\"image/*\"\r\n                        id=\"contained-button-file\"\r\n                        multiple\r\n                        type=\"file\"\r\n                    />\r\n                    <input onChange={sendFile} accept=\"*\" id=\"icon-button-file\" type=\"file\" />\r\n                    <label htmlFor=\"icon-button-file\">\r\n                        <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\r\n                        <i className=\"fas fa-paperclip\"></i>\r\n                        </IconButton>\r\n                    </label>\r\n                </div>\r\n                </IconButton>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state=>{\r\n    return{\r\n        chat: state.chat\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n  return {\r\n    getChat: (user)=> dispatch(ACTIONS.getChat(user))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(ChatWindow);\r\n","import React,{useEffect} from 'react'\r\nimport ChatDrawer from './ChatDrawer/ChatDrawer'\r\nimport ChatWindow from './Chat/ChatWindow'\r\nimport axios from 'axios'\r\nimport {connect} from 'react-redux'\r\nimport * as ACTIONS from './store/actions'\r\n\r\n\r\nfunction ChatRoom(props) {\r\n    useEffect(()=>{\r\n        axios.get('/info').then(res=>{\r\n            props.getUserInfo(res.data)\r\n        })\r\n    },[])\r\n    return (\r\n        <div className='chat_container'>\r\n            <div className='chat'>\r\n                <ChatDrawer/>\r\n                <ChatWindow/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state =>{\r\n    return {\r\n        chat: state.chat\r\n    }\r\n}\r\nconst mapDispatchToProps = dispatch=>{\r\n    return {\r\n        getUserInfo: (user)=> dispatch(ACTIONS.getUserInfo(user))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(ChatRoom);\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport {connect} from 'react-redux'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    maxWidth: 752,\r\n  },\r\n  demo: {\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  title: {\r\n    margin: theme.spacing(4, 0, 2),\r\n  },\r\n}));\r\n\r\n\r\nfunction PersonalInfo(props) {\r\n  const classes = useStyles();\r\n  const [dense, setDense] = React.useState(false);\r\n  \r\n\r\n  const countProfile = ()=>{\r\n    let count = 0\r\n    let userFriends = props.chat.userProfile.friends ? props.chat.userProfile.friends.map(i=>i.username) : []\r\n    props.chat.user.friends.map(i=>userFriends.includes(i.username) ? count++ : '')\r\n\r\n    return count\r\n  }\r\n\r\n  return (\r\n    <div className='personal_info'>\r\n          <div className={classes.demo}>\r\n            <List dense={dense}>\r\n            <ListItem>\r\n                  <ListItemAvatar>\r\n                    <Avatar>\r\n                       <i className=\"fas fa-users\"></i>\r\n                    </Avatar>\r\n                  </ListItemAvatar>\r\n                  <ListItemText\r\n                    primary=\"Friends\"\r\n                  />\r\n                  <ListItemSecondaryAction>\r\n                    <IconButton edge=\"end\" aria-label=\"delete\" style={{'fontSize':'1rem'}}>\r\n                      {props.chat.userProfile.friends ? props.chat.userProfile.friends.length : 0 }\r\n                    </IconButton>\r\n                  </ListItemSecondaryAction>\r\n                </ListItem>\r\n                <ListItem>\r\n                  <ListItemAvatar>\r\n                    <Avatar>\r\n                         <i className=\"fab fa-creative-commons-share\"></i>\r\n                    </Avatar>\r\n                  </ListItemAvatar>\r\n                  <ListItemText\r\n                    primary=\"Posts\"\r\n                  />\r\n                  <ListItemSecondaryAction>\r\n                    <IconButton edge=\"end\" aria-label=\"delete\" style={{'fontSize':'1rem'}}>\r\n                      {props.chat.userProfile.posts ? props.chat.userProfile.posts.length : 0}\r\n                    </IconButton>\r\n                  </ListItemSecondaryAction>\r\n                </ListItem>\r\n                  {props.chat.userProfile.username === props.chat.user.username ? \"\": (()=>{\r\n                      return <ListItem>\r\n                        <ListItemAvatar>\r\n                          <Avatar>\r\n                              <i className=\"fas fa-handshake\"></i>\r\n                          </Avatar>\r\n                        </ListItemAvatar>\r\n                        <ListItemText\r\n                          primary=\"Mutual\"\r\n                        />\r\n                        <ListItemSecondaryAction>\r\n                          <IconButton edge=\"end\" aria-label=\"delete\" style={{'fontSize':'1rem'}}>\r\n                            {props.chat.userProfile.friends ? countProfile() : '0'}\r\n                          </IconButton>\r\n                        </ListItemSecondaryAction>\r\n                      </ListItem>\r\n                  })()}\r\n            </List>\r\n          </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state =>{\r\n  return {\r\n    chat: state.chat\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(PersonalInfo);\r\n","import React,{useState} from 'react';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport {connect} from 'react-redux'\r\nimport * as ACTIONS from '../store/actions'\r\nimport axios from 'axios'\r\n\r\n\r\n\r\nfunction EditPersonalInfo(props) {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const submitPersonal = (e)=>{\r\n      let parent = e.target.parentElement.children[0]\r\n      console.log(parent)\r\n      axios.post('/save-personal',{\r\n        date: parent.children[0].value,\r\n        interest: parent.children[1].value,\r\n        residence: parent.children[2].value,\r\n        phone: parent.children[3].value,\r\n        prof: parent.children[4].value,\r\n        email: parent.children[5].value,\r\n        username: props.chat.user.username\r\n      }).then(res=>{\r\n          props.getUserProfile(res.data)\r\n      })\r\n  }\r\n\r\n  const body = (\r\n    <div className='friend_search_container'>\r\n      <h2 id=\"simple-modal-title\">Personal Info</h2>\r\n      <form className='edit_personal_info' action='/save-personal' method='POST' onSubmit={(e)=>e.preventDefault()}>\r\n          <div>\r\n                <input className='input_style' name='date' type='date' placeholder={props.chat.user.personalInfo ? `Date of birth: ${props.chat.user.personalInfo.date}` : ''}></input>\r\n                <input className='input_style' name='interest' type='text' placeholder={props.chat.user.personalInfo?`Interest: ${props.chat.user.personalInfo.interest}` : ''}></input>\r\n                <input className='input_style' name='residence' type='text' placeholder={props.chat.user.personalInfo?`Residence: ${props.chat.user.personalInfo.residence}` : ''}></input>\r\n                <input className='input_style' name='phone' type='text' placeholder={props.chat.user.personalInfo?`Phone: ${props.chat.user.personalInfo.phone}` : ''}></input>\r\n                <input className='input_style' name='prof' type='text' placeholder={props.chat.user.personalInfo?`Profession: ${props.chat.user.personalInfo.prof}` : ''}></input>\r\n                <input className='input_style' name='email' type='text' placeholder={props.chat.user.personalInfo?`Email: ${props.chat.user.personalInfo.email}` : ''}></input>\r\n          </div>\r\n          <br></br>\r\n      <button onClick={submitPersonal} style={{'color':'white','backgroundColor':'black','padding': '10px 20px','borderRadius':'10px'}}>SAVE</button>\r\n      </form>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n        <i style={{'color':'black'}} onClick={handleOpen} className=\"fas fa-edit\">Edit..</i>\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n        {body}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state =>{\r\n  return {\r\n    chat: state.chat\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n  return {\r\n    getUserInfo: (user)=> dispatch(ACTIONS.getUserInfo(user)),\r\n    getUserProfile: (user)=> dispatch(ACTIONS.getUserProfile(user))\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(EditPersonalInfo);","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar'\r\nimport {Link} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport EditPersonalInfo from './EditPersonalInfo'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    maxWidth: 360,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  nested: {\r\n    paddingLeft: theme.spacing(4),\r\n  },\r\n}));\r\n\r\nfunction UserInfo(props) {\r\n  const classes = useStyles();\r\n  const [openFirst, setOpenFirst] = React.useState(false);\r\n  const handleClickFirst = () => {\r\n    setOpenFirst(!openFirst);\r\n  };\r\n\r\n  return (\r\n      <div className='user_info'>\r\n    <List\r\n      component=\"nav\"\r\n      aria-labelledby=\"nested-list-subheader\"\r\n      className={classes.root}\r\n    >\r\n      <ListItem button onClick={handleClickFirst}>\r\n      <ListItemAvatar>\r\n            <Avatar>\r\n                <i className=\"fas fa-user\"></i>\r\n            </Avatar>\r\n       </ListItemAvatar>\r\n        <ListItemText primary=\"Personal Info\" />\r\n        {openFirst ? <ExpandLess /> : <ExpandMore />}\r\n      </ListItem>\r\n      <Collapse in={openFirst} timeout=\"auto\" unmountOnExit>\r\n        <List component=\"div\" disablePadding style={{'height':'100px','overflow':'auto'}}>\r\n          {props.chat.userProfile && props.chat.userProfile.username === props.chat.user.username ? (()=>{\r\n              return <ListItem button className={classes.nested}>\r\n                  <ListItemIcon>\r\n                  </ListItemIcon>\r\n                <ListItemText primary={<EditPersonalInfo/>}/>\r\n              </ListItem>\r\n          })() :  \"\"}\r\n          <ListItem button className={classes.nested}>\r\n            <ListItemIcon>\r\n               <i className=\"fas fa-birthday-cake\"></i>\r\n            </ListItemIcon>\r\n            <ListItemText primary={props.chat.userProfile.personalInfo ? props.chat.userProfile.personalInfo.date :\"Date of birth - --/--/----\"} />\r\n          </ListItem>\r\n          <ListItem button className={classes.nested}>\r\n            <ListItemIcon>\r\n               <i className=\"fas fa-volleyball-ball\"></i>\r\n            </ListItemIcon>\r\n            <ListItemText primary={props.chat.userProfile.personalInfo ? props.chat.userProfile.personalInfo.interest:\"Interests - ----\"} />\r\n          </ListItem>\r\n          <ListItem button className={classes.nested}>\r\n            <ListItemIcon>\r\n                <i className=\"fas fa-home\"></i>\r\n            </ListItemIcon>\r\n            <ListItemText primary={props.chat.userProfile.personalInfo ? props.chat.userProfile.personalInfo.residence :\"Residence - ----\"} />\r\n          </ListItem>\r\n          <ListItem button className={classes.nested}>\r\n            <ListItemIcon>\r\n                 <i className=\"fas fa-phone\"></i>\r\n            </ListItemIcon>\r\n            <ListItemText primary={props.chat.userProfile.personalInfo ? props.chat.userProfile.personalInfo.phone :\"Phone - ----\"} />\r\n          </ListItem>\r\n          <ListItem button className={classes.nested}>\r\n            <ListItemIcon>\r\n                    <i className=\"fas fa-suitcase\"></i>\r\n            </ListItemIcon>\r\n            <ListItemText primary={props.chat.userProfile.personalInfo ? props.chat.userProfile.personalInfo.prof:\"Profession - ----\"} />\r\n          </ListItem>\r\n          <ListItem button className={classes.nested}>\r\n            <ListItemIcon>\r\n                <i className=\"fas fa-envelope\"></i>\r\n            </ListItemIcon>\r\n            <ListItemText primary={props.chat.userProfile.personalInfo ? props.chat.userProfile.personalInfo.email:\"Email - ----\"}  />\r\n          </ListItem>\r\n\r\n        </List>\r\n      </Collapse>\r\n      <ListItem button>\r\n      <ListItemAvatar>\r\n            <Avatar>\r\n                <i className=\"fas fa-comments\"></i>\r\n            </Avatar>\r\n       </ListItemAvatar>\r\n       <Link to='/profile'><ListItemText primary=\"Conversations\" /></Link>\r\n      </ListItem>\r\n    </List>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state =>{\r\n  return {\r\n    chat: state.chat\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(UserInfo);\r\n","import React,{useState} from 'react'\r\nimport DefBack from '../images/gossipBack.png'\r\nimport PersonalInfo from './PersonalInfo'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport UserInfo from './UserInfo'\r\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport {connect} from 'react-redux'\r\nimport * as ACTIONS from '../store/actions'\r\nimport defProfPic from '../images/defProf.jpg'\r\nimport $ from 'jquery';\r\nimport axios from 'axios'\r\n\r\n\r\n\r\nfunction ProfileDrawer(props) {\r\n    const [error,setError] = useState(null)\r\n    const [errorProfile,setErrorProfile] = useState(null)\r\n\r\n\r\n    const handleBackground = (e)=>{\r\n      const target = e.target\r\n      const ALLOWED_T = ['image/png','image/jpeg','image/jpg']\r\n      let selected = target.files[0]\r\n\r\n      if(selected && ALLOWED_T.includes(selected.type)){\r\n          let form = new FormData();\r\n          form.append(\"image\", selected)\r\n          \r\n          let settings = {\r\n            \"url\": process.env.REACT_APP_URL,\r\n            \"method\": \"POST\",\r\n            \"timeout\": 0,\r\n            \"processData\": false,\r\n            \"mimeType\": \"multipart/form-data\",\r\n            \"contentType\": false,\r\n            \"data\": form\r\n          };\r\n\r\n\r\n          $.ajax(settings).done(function (response) {\r\n            let jx = JSON.parse(response);\r\n            console.log(jx.data.url);\r\n            axios.post('/update-background',{image:jx.data.url,username: props.chat.user.username}).then(res=>{\r\n              props.getUserProfile(res.data)\r\n            })\r\n          });\r\n      }\r\n    }\r\n    const handleProfile = (e)=>{\r\n      const target = e.target\r\n      const ALLOWED_T = ['image/png','image/jpeg','image/jpg']\r\n      let selected = target.files[0]\r\n\r\n      if(selected && ALLOWED_T.includes(selected.type)){\r\n          let form = new FormData();\r\n          form.append(\"image\", selected)\r\n          \r\n          let settings = {\r\n            \"url\": process.env.REACT_APP_URL,\r\n            \"method\": \"POST\",\r\n            \"timeout\": 0,\r\n            \"processData\": false,\r\n            \"mimeType\": \"multipart/form-data\",\r\n            \"contentType\": false,\r\n            \"data\": form\r\n          };\r\n\r\n\r\n          $.ajax(settings).done(function (response) {\r\n            let jx = JSON.parse(response);\r\n            console.log(jx.data.url);\r\n            axios.post('/update-profile',{image:jx.data.url,username: props.chat.user.username}).then(res=>{\r\n              props.getUserProfile(res.data)\r\n            })\r\n          });\r\n      }\r\n    }\r\n    return (\r\n        <div className='profile_drawer'>\r\n          <div className='background_image' style={{'backgroundImage': props.chat.userProfile.backgroundImage ?  `url(${props.chat.userProfile.backgroundImage})`:`url(${DefBack})`}}>\r\n            {props.chat.userProfile.username === props.chat.user.username && props.chat.userProfile.username ? (()=>{\r\n                return  <div className='uploadIcon'>\r\n                          <input\r\n                              accept=\"image/*\"\r\n                              id=\"contained-button-file\"\r\n                              multiple\r\n                              type=\"file\"\r\n                          />\r\n                          <input accept=\"image/*\" id=\"icon-button-file\" type=\"file\" onChange={(e)=>handleBackground(e)}/>\r\n                          <label htmlFor=\"icon-button-file\">\r\n                              <IconButton color=\"primary\" aria-label=\"upload picture\">\r\n                                <PhotoCamera/>\r\n                              </IconButton>\r\n                          </label>\r\n                          {error ? <p style={{'color':'red','background':'white'}}>{error}</p> : ''}\r\n                      </div>\r\n            })() : (()=>{\r\n              return <label htmlFor=\"icon-button-file\">\r\n              <IconButton color=\"primary\" aria-label=\"upload picture\" style={{'opacity':'0','cursor':'auto'}}>\r\n                <PhotoCamera/>\r\n              </IconButton>\r\n          </label>\r\n            })()}\r\n            <div className='profile_image' style={{'backgroundImage': props.chat.userProfile.profileImage ?  `url(${props.chat.userProfile.profileImage})`: `url(${defProfPic})`}}>\r\n              {props.chat.userProfile.username === props.chat.user.username && props.chat.userProfile.username ? (()=>{\r\n                return     <div>\r\n                            <input\r\n                                accept=\"image/*\"\r\n                                id=\"contained-button-file\"\r\n                                multiple\r\n                                type=\"file\"\r\n                            />\r\n                            <input accept=\"image/*\" id=\"icon-button-file\" type=\"file\" onChange={handleProfile}/>\r\n                            <label htmlFor=\"icon-button-file\">\r\n                                <IconButton color=\"primary\" aria-label=\"upload picture\">\r\n                                <PhotoCamera/>\r\n                                </IconButton>\r\n                            </label>\r\n                            {errorProfile ? <p style={{'color':'red','background':'white','width':'120%'}}>{errorProfile}</p> : ''}\r\n                        </div>\r\n              })() : ''}\r\n            </div>\r\n                <h3><i style={{'color': props.chat.userProfile.active ? 'green' : 'grey','backgroundColor':props.chat.userProfile.active ? 'green' : 'grey'}} className=\"fas fa-circle\"></i> {props.chat.userProfile.name  ? props.chat.userProfile.name : ''} </h3>\r\n                <Divider/>\r\n                <PersonalInfo/>\r\n                <Divider></Divider>\r\n                <UserInfo/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state =>{\r\n  return {\r\n    chat: state.chat\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    getUserProfile: (user)=> dispatch(ACTIONS.getUserProfile(user))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(ProfileDrawer);","export default \"data:image/png;base64,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\"","import React,{useState} from 'react';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport axios from 'axios'\r\nimport {connect} from 'react-redux'\r\nimport $ from 'jquery'\r\nimport * as ACTIONS from '../store/actions'\r\nimport moment from 'moment'\r\nimport Spinner from '../Chat/Spinner'\r\n\r\nfunction CreatePost(props) {\r\n  const [open, setOpen] = useState(false);\r\n  const [error,setError] = useState(null)\r\n  const [file,setFile]  = useState(null)\r\n  const [imgPreview,setImgPreview] = useState(null)\r\n  const [spinner,setSpinner] = useState(false)\r\n\r\n\r\n\r\n  const handleImage = (e)=>{\r\n    const target = e.target\r\n    var selected = target.files[0]\r\n    const ALLOWED_T = ['image/png','image/jpeg','image/jpg']\r\n    if(selected && ALLOWED_T.includes(selected.type)){\r\n      setFile(selected)\r\n      let reader = new FileReader()\r\n      reader.onloadend = ()=>{\r\n        setImgPreview(reader.result)\r\n      }\r\n      reader.readAsDataURL(selected)\r\n\r\n    }else{\r\n      setImgPreview(null)\r\n      setError('File not supported (select a image).')\r\n    }\r\n  }\r\n\r\n  const submitPost = ()=>{\r\n    let postTitle = document.querySelector(\".post_title\")\r\n    let postDesc = document.querySelector('.post_desc')\r\n    if(imgPreview){\r\n      const ALLOWED_T = ['image/png','image/jpeg','image/jpg']\r\n\r\n      if(file && ALLOWED_T.includes(file.type)){\r\n          let form = new FormData();\r\n          form.append(\"image\", file)\r\n          setSpinner(true)\r\n          \r\n          let settings = {\r\n            \"url\": process.env.REACT_APP_URL,\r\n            \"method\": \"POST\",\r\n            \"timeout\": 0,\r\n            \"processData\": false,\r\n            \"mimeType\": \"multipart/form-data\",\r\n            \"contentType\": false,\r\n            \"data\": form\r\n          };\r\n\r\n          $.ajax(settings).done(function (response) {\r\n            let jx = JSON.parse(response);\r\n\r\n            axios.post('/create-post',{\r\n              image:jx.data.url,\r\n              postTitle:postTitle.children[1].children[0].value,\r\n              postDesc:postDesc.value,\r\n              username:props.chat.user.username,\r\n              date: moment(Date.now()).format('LL')}).then(res=>{\r\n              window.location.reload()\r\n            }).then(()=>setSpinner(false))\r\n          });\r\n      }\r\n    }else{\r\n      setSpinner(true)\r\n      axios.post('/create-post',{\r\n        postTitle:postTitle.children[1].children[0].value,\r\n        postDesc:postDesc.value,\r\n        username:props.chat.user.username,\r\n        date: moment(Date.now()).format('LL')}).then(res=>{\r\n        window.location.reload()\r\n      }).then(()=>{\r\n        setSpinner(false)\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const body = (\r\n      <div className='post_modal'>\r\n          <form className='newPost' noValidate autoComplete=\"off\">\r\n                <h2>Create Post</h2>\r\n                {spinner ? <Spinner action='Posting...' /> : ''}\r\n                <TextField disabled={spinner? true:false} className='post_title' label=\"Title...\" variant=\"outlined\" />\r\n                <br></br>\r\n                <textarea disabled={spinner? true:false} className='post_desc' placeholder='Description...'></textarea>\r\n                <IconButton style={{'color':'#1D976C'}}>\r\n                    <div className='uploadIcon'>\r\n                    <input\r\n                      accept=\"image/*\"\r\n                      id=\"contained-button-file\"\r\n                      multiple\r\n                      type=\"file\"\r\n                    />\r\n                    <input accept=\"image/*\" id=\"icon-button-file\" type=\"file\" onChange={handleImage} />\r\n                    <label htmlFor=\"icon-button-file\">\r\n                      <IconButton  color=\"primary\" aria-label=\"upload picture\" component=\"span\">\r\n                         <i className=\"fas fa-image\"></i>\r\n                      </IconButton>\r\n                    </label>\r\n                  </div>\r\n                </IconButton>\r\n                <div className={imgPreview? 'image_preview':''} style={{'background': imgPreview ? `url(${imgPreview}) no-repeat center/cover`:''}}>\r\n                  {imgPreview ? <i onClick={()=> {\r\n                    setImgPreview(null)\r\n                    setError(null)\r\n                  }} className=\"fas fa-times-circle\"></i> : \"\"}\r\n                  {error && !imgPreview ? <p style={{'color':'red'}}>{error}</p> : ''}\r\n                </div>\r\n                <Button disabled={spinner? true:false} onClick={submitPost} style={{'background':'#1D976C','color':\"white\"}} variant='outlined'>POST</Button>\r\n        </form>\r\n      </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      {props.chat.userProfile.username && props.chat.user.username === props.chat.userProfile.username ? (()=>{\r\n        return  <><i onClick={handleOpen} className=\"fas fa-plus-circle\"></i>\r\n        <Modal\r\n          open={open}\r\n          onClose={handleClose}\r\n          aria-labelledby=\"simple-modal-title\"\r\n          aria-describedby=\"simple-modal-description\"\r\n        >\r\n          {body}\r\n        </Modal></>\r\n      })():''}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nconst mapStateToProps = state =>{\r\n  return {\r\n    chat: state.chat\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch=>{\r\n  return {\r\n    getUserInfo: (user)=>  dispatch(ACTIONS.getUserInfo(user))\r\n  }\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(CreatePost);\r\n","import React,{useState} from 'react';\r\nimport Divider from '@material-ui/core/Divider'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CreatePost from './CreatePost'\r\nimport uniqid from 'uniqid'\r\nimport {connect} from 'react-redux'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport axios from 'axios';\r\nimport defProfImg from '../images/defProf.jpg'\r\nimport * as ACTIONS from '../store/actions'\r\n\r\n\r\n\r\nfunction ProfileContent(props) {\r\n\r\n  const leaveComment = (e)=>{\r\n    let target = e.target\r\n\r\n    axios.post('/leave-comment',{\r\n      comment: target.parentElement.parentElement.parentElement.children[0].children[1].children[0].value,\r\n      sender: props.chat.user.username,receiver : props.chat.userProfile.username ,postID:target.classList[2],\r\n      image: props.chat.user.profileImage,\r\n      name:props.chat.user.name\r\n    }).then(res=>{\r\n      let image = props.chat.userProfile.profileImage ? props.chat.userProfile.profileImage : defProfImg\r\n      target.parentElement.parentElement.parentElement.parentElement.children[6].innerHTML += `<li>\r\n      <div style=\"background-image: url(${image})\"></div>\r\n      <p><strong>${props.chat.userProfile.name}:</strong>  ${target.parentElement.parentElement.parentElement.children[0].children[1].children[0].value}</p>\r\n    </li>`\r\n    target.parentElement.parentElement.parentElement.children[0].children[1].children[0].value = ''\r\n    })\r\n  }\r\n  const handleClick = (e) => {\r\n    let target = e.target\r\n    let container = target.parentElement.parentElement.children[6]\r\n\r\n    if(!container.classList.contains('post_comments_container_visible')){\r\n      container.classList.add('post_comments_container_visible')\r\n    }else{\r\n      container.classList.remove('post_comments_container_visible')\r\n    }\r\n  };\r\n\r\n  const likePost = (e)=>{\r\n    let target = e.target\r\n    axios.post('/like-post',{\r\n      receiver:props.chat.userProfile.username,\r\n      sender:props.chat.user.username,\r\n      postID:target.classList[2],\r\n      name: props.chat.user.name\r\n    }).then(res=>{\r\n      let parent  = target.parentElement\r\n      parent.innerHTML = `<i style=\"color:green;\" class=\"far fa-thumbs-up\">${res.data.likes.length}</i>`\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className='profile_content'>\r\n      <div className='profile_content_header'>\r\n        <h2>Feed</h2>\r\n        <div>\r\n          <IconButton aria-label=\"add\">\r\n             <CreatePost/>\r\n          </IconButton>\r\n        </div>\r\n      </div>\r\n      <div className='post_container'>\r\n        {props.chat.userProfile.posts? props.chat.userProfile.posts.map(post=>{\r\n          if(post.image !== ''){\r\n            return <><div className='post' key={uniqid()}>\r\n                    <div className='post_image' style={{'backgroundImage':`url(${post.image})`}}></div>\r\n                    <div className='post_content'>\r\n                      <div className='post_description'>\r\n                          <h3 style={{'position':'relative'}}>{post.postTitle}<span>{post.date}</span></h3>\r\n                          <br></br>\r\n                          <p>{post.postDesc}</p>\r\n                          <div className='post_controls' style={{'width': '100%'}}>\r\n                              <i onClick={handleClick} className=\"far fa-comment\">{post.comments.length}</i>\r\n                              <div>\r\n                                  {post.likes.includes(props.chat.user.username) ?<i style={{'color':'green'}} className=\"far fa-thumbs-up\">{post.likes.length}</i>  : <i onClick={likePost} className={`far fa-thumbs-up ${post.id}`}>{post.likes.length}</i> }\r\n                              </div>\r\n                          </div>\r\n                          <br></br>\r\n                          <div className='post_comments_field'>\r\n                                <TextField label=\"Add Comment\" />\r\n                                <IconButton>\r\n                                    <i onClick={leaveComment} className={`fas fa-share-square ${post.id}`}></i>\r\n                                </IconButton>\r\n                          </div>\r\n                          <ul className='post_comments_container'>\r\n                          <Divider></Divider>\r\n                          {post.comments.map(comment=>{\r\n                              return   <li key={uniqid()}>\r\n                                        <div style={{\r\n                                        'backgroundImage':comment.image ? `url(${comment.image})` : `url(${defProfImg})` ,\r\n                                        }}\r\n                                        ></div>\r\n                                        <p><strong>{`${comment.name}: `}</strong>{`${comment.comment}`}</p>\r\n                                      </li>\r\n                            })}\r\n                      </ul>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <br></br>\r\n                  </>\r\n          }else{\r\n            return <>\r\n              <div key={uniqid()} className='post' style={{'height':'auto'}}>\r\n                  <div className='post_content'>\r\n                    <div className='post_description'>\r\n                        <h3 style={{'position':'relative'}}>{post.postTitle}<span>{post.date}</span></h3>\r\n                        <br></br>\r\n                        <p>{post.postDesc}</p>\r\n                        <div className='post_controls' style={{'width': '100%'}}>\r\n                              <i onClick={handleClick} className=\"far fa-comment\">{post.comments.length}</i>\r\n                              <div>\r\n                                  {post.likes.includes(props.chat.user.username) ?<i style={{'color':'green'}} className=\"far fa-thumbs-up\">{post.likes.length}</i>  : <i onClick={likePost} className={`far fa-thumbs-up ${post.id}`}>{post.likes.length}</i> }\r\n                              </div>\r\n                          </div>\r\n                        <br></br>\r\n                        <div className='post_comments_field'>\r\n                                <TextField label=\"Add Comment\" />\r\n                                <IconButton>\r\n                                    <i onClick={leaveComment} className={`fas fa-share-square ${post.id}`}></i>\r\n                                </IconButton>\r\n                          </div>\r\n                          <ul className='post_comments_container'>\r\n                          <Divider></Divider>\r\n                          {post.comments.map(comment=>{\r\n                              return   <li key={uniqid()}>\r\n                                        <div style={{\r\n                                        'backgroundImage':comment.image ? `url(${comment.image})` : `url(${defProfImg})` ,\r\n                                        }}\r\n                                        ></div>\r\n                                        <p><strong>{`${comment.name}: `}</strong>{`${comment.comment}`}</p>\r\n                                      </li>\r\n                            })}\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <br></br>\r\n            </>\r\n          }\r\n        }): ''}\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state =>{\r\n  return {\r\n    chat: state.chat\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n  return {\r\n    getUserProfile: (user)=> dispatch(ACTIONS.getUserProfile(user))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(ProfileContent);\r\n","import React,{useEffect,useState} from 'react'\r\nimport ProfileDrawer from './ProfileDrawer'\r\nimport ProfileContent from './ProfileContent'\r\nimport {connect} from 'react-redux'\r\nimport axios from 'axios'\r\nimport * as ACTIONS from '../store/actions'\r\n\r\nfunction Profile(props) {\r\n    useEffect(()=>{\r\n        if(props.chat.user.username){\r\n\r\n        }else{\r\n            axios.get('/info').then(res=>{\r\n                props.getUserInfo(res.data)\r\n                axios.post('/profile-info',{username:res.data.username}).then(res=>{\r\n                    props.getUserProfile(res.data)\r\n                })\r\n            })\r\n        }\r\n    },[])\r\n    return (\r\n        <div className='profile_container'>\r\n            <div></div>\r\n            <div className='profile_section'>\r\n                <ProfileDrawer/>\r\n                <ProfileContent/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state =>{\r\n    return {\r\n        chat: state.chat\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n    return {\r\n        getUserInfo: (user)=> dispatch(ACTIONS.getUserInfo(user)),\r\n        getUserProfile: (user)=>dispatch(ACTIONS.getUserProfile(user))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Profile);\r\n","\nimport './css/App.css'\nimport {BrowserRouter as Router,Route} from 'react-router-dom'\nimport Login from './CredentialPages/Login'\nimport ChatRoom from './ChatRoom'\nimport Profile from './Profile/Profile'\nimport './css/animate.css'\nimport './css/media.css'\n\nfunction App() {\n\n  return (\n    <Router>\n      <div className='App'>\n        <Route exact path='/' component={Login}></Route>\n        <Route path='/profile' component={ChatRoom}></Route>\n        <Route path='/user-profile' component={Profile}></Route>\n      </div>\n    </Router>\n  );\n}\n\n\nexport default App;\n","import * as ACTION_TYPES from './action_types'\r\n\r\nconst initialState = {\r\n    user: {},\r\n    userProfile: {},\r\n    currentChat: {},\r\n    searchCriteria: '',\r\n    chat: [],\r\n    videoChat: '',\r\n    switchChats: false\r\n}\r\nconst chatReducer = (state = initialState,action)=>{\r\n    switch(action.type){\r\n        case ACTION_TYPES.USER:\r\n            return {\r\n                ...state,\r\n                user: action.payload\r\n            }\r\n        case ACTION_TYPES.USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                userProfile: action.payload\r\n            }\r\n        case ACTION_TYPES.USER_CHAT:\r\n            return {\r\n                ...state,\r\n                currentChat: action.payload\r\n            }\r\n        case ACTION_TYPES.SEARCH_CRITERIA:\r\n            return {\r\n                ...state,\r\n                searchCriteria: action.payload\r\n            }\r\n        case ACTION_TYPES.CHAT:\r\n            return {\r\n                ...state,\r\n                chat: action.payload\r\n            }\r\n        case ACTION_TYPES.VIDEO_CHAT:\r\n            return {\r\n                ...state,\r\n                videoChat: action.payload\r\n            }\r\n        case ACTION_TYPES.SWITCH_CHATS:\r\n            return {\r\n                ...state,\r\n                switchChats: action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default chatReducer;","import chatReducer from './chatReducer'\r\nimport {combineReducers} from 'redux'\r\n\r\nconst rootReducer = combineReducers({\r\n    chat: chatReducer\r\n})\r\n\r\nexport default rootReducer;","import rootReducer from './rootReducer'\r\nimport {createStore} from 'redux'\r\n\r\nconst store = createStore(rootReducer)\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {Provider} from 'react-redux'\nimport store from './store/store'\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}