(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{225:function(e,t,a){},253:function(e,t,a){},254:function(e,t,a){},261:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(25),r=a.n(n),s=(a(225),a(44)),i=a(30),o=a(15),l=a(339),u=a(312),j=a(316),d=a(317),h=a(318),m=a(349),p=a(19),b="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAAAAAAAD/4QAuRXhpZgAATU0AKgAAAAgAAkAAAAMAAAABAAAAAEABAAEAAAABAAAAAAAAAAD/2wBDAAoHBwkHBgoJCAkLCwoMDxkQDw4ODx4WFxIZJCAmJSMgIyIoLTkwKCo2KyIjMkQyNjs9QEBAJjBGS0U+Sjk/QD3/2wBDAQsLCw8NDx0QEB09KSMpPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT3/wAARCADhAOEDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD2WiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKy9b8SaT4dt/O1a/htlIyqsfmb6KOT+Arzz4gfF9NLkl0zw2yS3g+WW7OGSI+ijoze54Hv28Tvr661K7e6vbiS4uHOWkkYkn86APa9W+PWnwsU0nS57rnHmTyCIfUAZJH1xXM3Hx48ROx8iy02JOwMbsR+O7+leZUUAekJ8dPE6HmDTH9jC/9Hrc034/NlV1TRVI/iktpsfkrD+teN0UAfUfhz4i+HfE5SKyvhFdN0t7geXIT6Dsx/wB0muor40r0rwN8Xr/RJI7LXXkvtO+75hOZofoT94ex59D2IB9A0VV0++tdTsYruymSa3mXejochh/nt26VaoAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK8i+LfxGayMvh7RpSs5GLydDjYD/yzU+pHU9s465x3PjvxOvhPwtdagpU3J/dWynoZG6fXABOPQV8uTTSXE0ksrs8kjFndjksT1JPc5oAjooooAKKKKACiiigAooooA7b4ceP5vB2qCG5d30m4b99H18s/wB9R6juB1HvjH0hBPHcwRzwOskUqh0dTkMp5BB7givjmvb/AII+Lnu7Obw7eOWktl821JOcx5+ZfwJBHsT2FAHrlFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAeD/HfWmufENnpMbfu7OHzXAPV39R7KoP/AjXlldP8SLz7d8Q9alznbcGL/vgBP8A2WuYoAKKKKACiiigAooooAKKKKACtrwjrR8PeK9N1INtSGYeaevyH5X/APHSaxaKAPsuisrwvdtf+FNJu5OXms4nb6lAT+tatABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAfJ/jMFfHGu5BB/tC4P/AJEasSux+K9ibH4jamCpCTskyH1DKCf/AB7I/CuOoAKKKKACiiigAooooAKKKKACiinKpchVBLE4AHegD6q8BgjwJoYPX7FEf/HRW/VLRrEaZolhYj/l1t44eufuqB/SrtABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAeOfHjQSyWGuxJkJ/os5A6DlkP0zuGfcCvF6+u9c0i317RbvTbwZhuYyhIGSp6hh7ggEe4r5W13RLrw7rFzpl8m2aBsZHRx2YexGD+NAGbRRRQAUUUUAFFFFABRRRQAV13wy0Btf8cWMZUmC1f7VMf9lDkD8WwPxrka+kfhV4Nbwt4cMt5Ht1G+xJMp6xqPup9QCSfckc4oA7qiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKK5vxH4+0DwtlNSvQbkDItohvkP4D7v44rz/UPj+odl0zRCV7PcTYP/AHyo/rQB7JXGfETwBB4z00PCVh1S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",f="USER",g="USER_PROFILE",x="USER_CHAT",O="SEARCH_CRITERIA",A="CHAT",v="VIDEO_CHAT",y="SWITCH_CHATS",C="EXPAND_CHAT",N="POST_IMAGE",K=function(e){return{type:f,payload:e}},w=function(e){return{type:g,payload:e}},U=function(e){return{type:x,payload:e}},R=function(e){return{type:O,payload:e}},k=function(e){return{type:A,payload:e}},F=function(e){return{type:C}},P=a(20),I=a.n(P),S=a(169),B=a.n(S),T=a(345),H=a(342),_=a(2);var D=Object(p.b)((function(e){return{chat:e.chat}}),(function(e){return{getUserInfo:function(t){return e(K(t))}}}))((function(e){var t=Object(c.useState)(!1),a=Object(o.a)(t,2),n=a[0],r=a[1],s=function(t,a,c,n){I.a.post("/handle-notification",{response:t,sender:a,receiver:c,notifID:n}).then((function(t){e.getUserInfo(t.data)}))},i=Object(_.jsxs)("div",{className:"friend_search_container",children:[Object(_.jsx)("h2",{id:"simple-modal-title",children:"Notifications"}),Object(_.jsx)(u.a,{style:{width:"80%",margin:"0 auto",overflow:"auto"},children:e.chat.user.notifications?e.chat.user.notifications.map((function(t){return Object(_.jsxs)(j.a,{children:[Object(_.jsx)(m.a,{style:{border:"2px solid black"},alt:"Remy Sharp",src:""!==t.image?t.image:b}),Object(_.jsx)(d.a,{style:{margin:"0 20px"},primary:t.notif}),Object(_.jsxs)(h.a,{children:[Object(_.jsx)("i",{onClick:function(){return s(!0,e.chat.user.username,t.username,t.id)},className:"fas fa-check-circle"}),Object(_.jsx)("i",{onClick:function(){return s(!1,e.chat.user.username,t.username,t.id)},className:"fas fa-times-circle"})]})]},t.id)})):""})]});return Object(_.jsxs)("div",{children:[Object(_.jsxs)(T.a,{onClick:function(){r(!0)},children:[Object(_.jsx)(h.a,{children:Object(_.jsx)(H.a,{badgeContent:e.chat.user.notifications?e.chat.user.notifications.length:0,color:"error",style:{marginLeft:"0"},children:Object(_.jsx)(B.a,{style:{color:"grey"},className:"fas fa-envelope",fontSize:"large"})})}),Object(_.jsx)(d.a,{children:"Notifications"})]}),Object(_.jsx)(l.a,{open:n,onClose:function(){r(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:i})]})})),L=a(350),E=a(346),Q=a(323),M=a(322),J=a(170),G=a.n(J),V=a(174),X=a.n(V),q=a(177),W=a.n(q),z=a(112),Z=a.n(z),Y=a(111),$=a.n(Y),ee=a(172),te=a.n(ee),ae=a(173),ce=a.n(ae),ne=a(171),re=a.n(ne),se=a(176),ie=a.n(se),oe=a(175),le=a.n(oe);var ue=Object(p.b)((function(e){return{chat:e.chat}}),(function(e){return{switchChats:function(t){return e(function(e){return{type:y,payload:e}}(t))},getUserProfile:function(t){return e(w(t))}}}))((function(e){return Object(_.jsx)(L.a,{className:"side-navigation",children:Object(_.jsxs)(E.a,{children:[Object(_.jsxs)(T.a,{children:[Object(_.jsx)(M.a,{children:Object(_.jsx)(G.a,{style:{color:"seagreen"},fontSize:"large"})}),Object(_.jsx)(Q.a,{children:"Followers"})]}),Object(_.jsx)(D,{}),Object(_.jsx)(s.b,{onClick:function(){return e.getUserProfile(e.chat.user)},to:"user-profile",children:Object(_.jsxs)(T.a,{children:[Object(_.jsx)(M.a,{children:Object(_.jsx)($.a,{style:{color:"coral"},fontSize:"large"})}),Object(_.jsx)(Q.a,{children:"Profile"})]})}),Object(_.jsxs)(T.a,{children:[Object(_.jsx)(M.a,{children:Object(_.jsx)(Z.a,{style:{color:"#0e81ea"},fontSize:"large"})}),Object(_.jsx)(Q.a,{children:"Market"})]}),Object(_.jsxs)(T.a,{children:[Object(_.jsx)(M.a,{children:Object(_.jsx)(re.a,{style:{color:"orange"},fontSize:"large"})}),Object(_.jsx)(Q.a,{children:"Activity"})]}),Object(_.jsxs)(T.a,{children:[Object(_.jsx)(M.a,{children:Object(_.jsx)(te.a,{style:{color:"lightblue"},fontSize:"large"})}),Object(_.jsx)(Q.a,{children:"Events"})]}),Object(_.jsxs)(T.a,{children:[Object(_.jsx)(M.a,{children:Object(_.jsx)(ce.a,{style:{color:"purple"},fontSize:"large"})}),Object(_.jsx)(Q.a,{children:"Memories"})]}),Object(_.jsxs)(T.a,{children:[Object(_.jsx)(M.a,{children:Object(_.jsx)(X.a,{style:{color:"teal"},fontSize:"large"})}),Object(_.jsx)(Q.a,{children:"Bookmarks"})]}),Object(_.jsxs)(T.a,{children:[Object(_.jsx)(M.a,{children:Object(_.jsx)(le.a,{style:{color:"#f4a460"},fontSize:"large"})}),Object(_.jsx)(Q.a,{children:"Groups"})]}),Object(_.jsxs)(T.a,{children:[Object(_.jsx)(M.a,{children:Object(_.jsx)(ie.a,{style:{color:"darkslateblue"},fontSize:"large"})}),Object(_.jsx)(Q.a,{children:"Watch Live"})]}),Object(_.jsxs)(T.a,{onClick:function(){I.a.get("/logout").then((function(){return window.location.reload()}))},children:[Object(_.jsx)(M.a,{children:Object(_.jsx)(W.a,{style:{color:"crimson"},fontSize:"large"})}),Object(_.jsx)(Q.a,{children:"Sign Out"})]})]})})}));var je=Object(p.b)((function(e){return{chat:e.chat}}),(function(e){return{getUserProfile:function(t){return e(w(t))}}}))((function(e){return Object(_.jsx)("div",{className:"drawer_container",children:Object(_.jsx)("div",{className:"control_tabs",children:Object(_.jsx)(ue,{})})})})),de=a(37),he=a(48),me=a.n(he),pe=a(61),be=a(327),fe=a(335),ge=a(328),xe=a(33),Oe=a.n(xe),Ae=a(76),ve=a.n(Ae),ye=a(142),Ce=(a(165),{apiKey:"AIzaSyAjsYjBi70seSKENP03EGZqLm8lJOMKIP0",authDomain:"".concat("gossip-ca35d",".firebaseapp.com"),databaseURL:"https://".concat("gossip-ca35d",".firebaseio.com"),projectId:"gossip-ca35d",storageBucket:"".concat("gossip-ca35d",".appspot.com"),messagingSenderId:"818496013910",appId:"1:818496013910:web:b67daee44a0b799f1c1df7",measurementId:"G-Y6ME1GNJK3"});ye.a.initializeApp(Ce);var Ne=ye.a,Ke=a(178),we=a(8);var Ue=function(e){var t,a=Object(c.useState)(!1),n=Object(o.a)(a,2),r=n[0],s=n[1];return Object(_.jsx)("i",(t={className:"fas fa-smile-beam",onClick:function(e){return e.target.classList.contains("fa-smile-beam")?s(!r):null},style:{position:"relative",fontSize:"1.2rem",alignSelf:"center",margin:"0 5px",color:e.color,cursor:"pointer",marginBottom:e.location?"5px":"0"}},Object(we.a)(t,"style",{position:"relative"}),Object(we.a)(t,"children",Object(_.jsxs)("div",{onClick:function(t){console.log("click");var a=t.target;if(a.classList.contains("emoji"))if(e.location){var c=document.querySelector(".message_chat_value");c&&(c.value+=a.innerHTML)}else{var n=document.querySelector(".post_message_input");n&&(n.value+=a.innerHTML)}},className:"emoji_container",style:{display:r?"grid":"none",right:e.right,bottom:e.bottom},children:[Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude1c"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude00"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude01"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude02"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude03"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude04"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude05"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude06"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude07"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude08"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude09"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude0a"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude0b"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude0c"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude0d"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude0e"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude0f"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude10"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude11"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude12"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude0e"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude0f"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude10"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude11"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude12"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude13"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude18"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude15"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude1a"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude28"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude2d"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude34"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83d\ude37"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83e\udd11"}),Object(_.jsx)("p",{className:"emoji",children:"\ud83e\uddd0"})]})),t))},Re=a(324),ke=a(325),Fe=Object(Re.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center","& > * + *":{marginLeft:e.spacing(2)},position:"absolute",top:"10px",right:"10px"}}}));var Pe=function(e){var t=Fe();return Object(_.jsxs)("div",{className:t.root,children:[Object(_.jsx)(ke.a,{style:{color:"#1D976C"}}),Object(_.jsx)("span",{style:{color:"#1D976C"},children:e.action})]})},Ie=a(351),Se=a(340),Be=a(343),Te=a(326),He=a(123),_e=a(113),De=a.n(_e),Le=Ne.firestore(),Ee=Ne.firestore.FieldValue.arrayUnion;var Qe=Object(p.b)((function(e){return{chat:e.chat}}),(function(e){return{getChat:function(t){return e(k(t))},expandChat:function(){return e(F())}}}))((function(e){var t=Object(c.useState)(!1),a=Object(o.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(null),i=Object(o.a)(s,2),l=i[0],u=i[1],j=function(){var t=Object(pe.a)(me.a.mark((function t(){var a;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.expandChat();case 2:(a=document.querySelector(".chat_window")).scrollTop=a.scrollHeight;case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=function(t,a){var c=e.chat.user?e.chat.user.username:"",n=e.chat.currentChat?e.chat.currentChat.username:"",r=document.querySelector(".message_chat_value"),s=document.querySelector(".conversation_window");if(console.log(r),c&&n&&!e.chat.switchChats)"message"===t&&(a=r.value),Le.collection(c).doc(n).get().then((function(i){if(i.data()){var o=Le.doc("".concat(n,"/").concat(c)),l=Le.doc("".concat(c,"/").concat(n));o.update({message:Ee({id:c,value:a,type:t})}),l.update({message:Ee({id:c,value:a,type:t})}),e.getChat([].concat(Object(de.a)(i.data().message),[{id:c,value:a,type:t}]))}else Le.collection(n).doc(c).set({message:[{id:c,value:a,type:t}]}),Le.collection(c).doc(n).set({message:[{id:c,value:a,type:t}]}),e.getChat([{id:c,value:a,type:t}]);r.value="",s.scrollTop=s.scrollHeight}));else if(e.chat.switchChats){var i=e.chat.currentChat?e.chat.currentChat.maker.email:"",o=e.chat.currentChat?e.chat.currentChat.name:"";"message"===t&&(a=r.value),Le.collection(i).doc(o).get().then((function(n){n.data()?(Le.doc("".concat(i,"/").concat(o)).update({message:Ee({id:c,value:a,type:t})}),e.getChat([].concat(Object(de.a)(n.data().message),[{id:c,value:a,type:t}]))):(Le.collection(i).doc(o).set({message:[{id:c,value:a,type:t}]}),e.getChat([{id:c,value:a,type:t}]));s.scrollTop=s.scrollHeight,r.value="",s.scrollTop=s.scrollHeight}))}},h=function(e,t){Object(Ke.saveAs)(t,e)};return Object(_.jsxs)("div",{className:"chat_window",style:{width:"30%",height:"45%",display:e.chat.expand?"flex":"none"},children:[n?Object(_.jsx)(Pe,{action:"Sending..."}):"",Object(_.jsxs)("div",{className:"chat_header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",color:"black"},children:[Object(_.jsx)(Ie.a,{children:Object(_.jsx)(Se.a,{children:Object(_.jsxs)(Te.a,{direction:"row",spacing:2,style:{display:"flex",alignItems:"center"},children:[Object(_.jsx)(Be.a,{alt:"Remy Sharp",src:e.chat.currentChat.profileImage}),Object(_.jsx)(He.a,{className:"user_name",style:{margin:"0 10px",fontWeight:"bold",fontFamily:"Ruda, sans-serif"},children:e.chat.currentChat.name})]})})}),Object(_.jsx)("div",{className:"friend_chat_tab",style:{padding:"0 10px"},children:Object(_.jsx)(De.a,{className:"close_icon",onClick:function(){return j()}})}),l?Object(_.jsx)("p",{style:{color:"red",position:"absolute",bottom:"0",left:"43%"},children:l}):""]}),Object(_.jsx)("div",{className:"conversation_window",children:e.chat.chat.map((function(t,a){if(a===e.chat.chat.length-1){if("message"===t.type)return e.chat.currentChat.maker?Object(_.jsx)("span",{style:{animation:"visibility 300ms linear"},className:t.id===e.chat.user.username?"user_sender":"user_receiver",children:Object(_.jsxs)("span",{children:[Object(_.jsxs)("strong",{children:[t.id,":"]}),Object(_.jsx)("br",{}),t.value]})},Oe()()):Object(_.jsx)("span",{style:{animation:"visibility 300ms linear"},className:t.id===e.chat.user.username?"user_sender":"user_receiver",children:Object(_.jsx)("span",{children:t.value})},Oe()());if("image"===t.type)return e.chat.currentChat.maker?Object(_.jsx)("span",{style:{animation:"visibility 300ms linear"},className:t.id===e.chat.user.username?"user_sender":"user_receiver",children:Object(_.jsx)("p",{children:Object(_.jsxs)("a",{target:"_blank",href:t.value,children:[Object(_.jsxs)("strong",{children:[t.id,":"]}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{style:{backgroundImage:"url(".concat(t.value,")")}})]})})},Oe()()):Object(_.jsx)("span",{style:{animation:"visibility 300ms linear"},className:t.id===e.chat.user.username?"user_sender":"user_receiver",children:Object(_.jsx)("p",{children:Object(_.jsx)("a",{target:"_blank",href:t.value,children:Object(_.jsx)("div",{style:{backgroundImage:"url(".concat(t.value,")")}})})})},Oe()());if("file"===t.type)return e.chat.currentChat.maker?Object(_.jsx)("span",{style:{animation:"visibility 300ms linear",margin:"8px 0"},className:t.id===e.chat.user.username?"user_sender":"user_receiver",children:Object(_.jsxs)("a",{onClick:function(){return h(t.fileName,t.value)},children:[Object(_.jsx)("i",{style:{color:"black"},className:"fas fa-file"}),Object(_.jsxs)("strong",{children:[t.id,":"]}),Object(_.jsx)("br",{}),t.fileName]})},Oe()()):Object(_.jsx)("span",{style:{animation:"visibility 300ms linear",margin:"8px 0"},className:t.id===e.chat.user.username?"user_sender":"user_receiver",children:Object(_.jsxs)("a",{onClick:function(){return h(t.fileName,t.value)},children:[Object(_.jsx)("i",{style:{color:"black"},className:"fas fa-file"}),t.fileName]})},Oe()())}return"message"===t.type?e.chat.currentChat.maker?Object(_.jsx)("span",{className:t.id===e.chat.user.username?"user_sender":"user_receiver",children:Object(_.jsxs)("span",{children:[Object(_.jsxs)("strong",{children:[t.id,":"]}),Object(_.jsx)("br",{}),t.value]})},Oe()()):Object(_.jsx)("span",{className:t.id===e.chat.user.username?"user_sender":"user_receiver",children:Object(_.jsx)("span",{children:t.value})},Oe()()):"image"===t.type?e.chat.currentChat.maker?Object(_.jsx)("span",{className:t.id===e.chat.user.username?"user_sender":"user_receiver",children:Object(_.jsx)("p",{children:Object(_.jsxs)("a",{target:"_blank",href:t.value,children:[Object(_.jsxs)("strong",{children:[t.id,":"]}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{style:{backgroundImage:"url(".concat(t.value,")")}})]})})},Oe()()):Object(_.jsx)("span",{className:t.id===e.chat.user.username?"user_sender":"user_receiver",children:Object(_.jsx)("p",{children:Object(_.jsx)("a",{target:"_blank",href:t.value,children:Object(_.jsx)("div",{style:{backgroundImage:"url(".concat(t.value,")")}})})})},Oe()()):"file"===t.type?e.chat.currentChat.maker?Object(_.jsx)("span",{style:{margin:"8px 0"},className:t.id===e.chat.user.username?"user_sender":"user_receiver",children:Object(_.jsxs)("a",{onClick:function(){return h(t.fileName,t.value)},children:[Object(_.jsx)("i",{style:{color:"black"},className:"fas fa-file"}),Object(_.jsxs)("strong",{children:[t.id,":",Object(_.jsx)("br",{}),t.fileName]})," ",t.fileName]})},Oe()()):Object(_.jsx)("span",{style:{margin:"8px 0"},className:t.id===e.chat.user.username?"user_sender":"user_receiver",children:Object(_.jsxs)("a",{onClick:function(){return h(t.fileName,t.value)},children:[Object(_.jsx)("i",{style:{color:"black"},className:"fas fa-file"}),t.fileName]})},Oe()()):void 0}))}),Object(_.jsx)(be.a,{}),Object(_.jsxs)("div",{className:"controls",children:[Object(_.jsx)(fe.a,{disabled:!!n,onKeyDown:function(e){return 13===e.keyCode?d("message",""):""},inputProps:{className:"message_chat_value"},id:"outlined-basic",label:"Message...",variant:"outlined"}),Object(_.jsxs)("div",{className:"chat_icons",children:[Object(_.jsx)(ge.a,{disabled:!!n,"aria-label":"add",children:Object(_.jsx)("i",{onClick:function(){return d("message","")},className:"fas fa-reply"})}),Object(_.jsx)(ge.a,{disabled:!!n,"aria-label":"add",children:Object(_.jsx)(Ue,{right:"-5%",bottom:"100%",location:!0})}),Object(_.jsx)(ge.a,{disabled:!!n,"aria-label":"add",children:Object(_.jsxs)("div",{className:"uploadIcon",children:[Object(_.jsx)("input",{accept:"image/*",id:"contained-button-file",multiple:!0,type:"file"}),Object(_.jsx)("input",{onChange:function(e){var t=e.target.files[0];if(t&&["image/png","image/jpeg","image/jpg"].includes(t.type)){var a=new FormData;a.append("image",t);var c={url:"https://api.imgbb.com/1/upload?key=24d127aa875dd2369887163c67750044",method:"POST",timeout:0,processData:!1,mimeType:"multipart/form-data",contentType:!1,data:a};r(!0),ve.a.ajax(c).done((function(e){var t=JSON.parse(e);u(null),d("image",t.data.url)})).then((function(){return r(!1)}))}else u("File not supported (select a image).")},accept:"image/*",id:"icon-button-file",type:"file"}),Object(_.jsx)("label",{htmlFor:"icon-button-file",children:Object(_.jsx)(ge.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(_.jsx)("i",{className:"fas fa-image"})})})]})}),Object(_.jsx)(ge.a,{"aria-label":"add",disabled:!!n,children:Object(_.jsxs)("div",{className:"uploadIcon",children:[Object(_.jsx)("input",{accept:"image/*",id:"contained-button-file",multiple:!0,type:"file"}),Object(_.jsx)("input",{onChange:function(t){var a=t.target.files[0],c=Oe()(),n=Ne.storage().ref("".concat(e.chat.user.username,"/").concat(a.name).concat(c)),s=document.querySelector(".conversation_window");r(!0);n.put(a).then((function(t){Ne.storage().ref().child("".concat(e.chat.user.username,"/").concat(a.name).concat(c)).getDownloadURL().then((function(t){var c=e.chat.user?e.chat.user.username:"",n=e.chat.currentChat?e.chat.currentChat.username:"",i=document.querySelector(".message_chat_value").children[1].children[0],o=t,l="file";if(c&&n&&!e.chat.switchChats)Le.collection(c).doc(n).get().then((function(t){if(t.data()){var u=Le.doc("".concat(n,"/").concat(c)),j=Le.doc("".concat(c,"/").concat(n));u.update({message:Ee({id:c,value:o,type:l,fileName:a.name})}),j.update({message:Ee({id:c,value:o,type:l,fileName:a.name})}),e.getChat([].concat(Object(de.a)(t.data().message),[{id:c,value:o,type:l}]))}else Le.collection(n).doc(c).set({message:[{id:c,value:o,type:l,fileName:a.name}]}),Le.collection(c).doc(n).set({message:[{id:c,value:o,type:l,fileName:a.name}]}),e.getChat([{id:c,value:o,type:l}]);r(!1),i.value="",s.scrollTop=s.scrollHeight}));else if(e.chat.switchChats){var u=e.chat.currentChat?e.chat.currentChat.maker.email:"",j=e.chat.currentChat?e.chat.currentChat.name:"";Le.collection(u).doc(j).get().then((function(t){t.data()?(Le.doc("".concat(u,"/").concat(j)).update({message:Ee({id:c,value:o,type:l,fileName:a.name})}),e.getChat([].concat(Object(de.a)(t.data().message),[{id:c,value:o,type:l}]))):(Le.collection(u).doc(j).set({message:[{id:c,value:o,type:l,fileName:a.name}]}),e.getChat([{id:c,value:o,type:l}]))})),r(!1),i.value="",s.scrollTop=s.scrollHeight}}))}))},accept:"*",id:"icon-button-file",type:"file"}),Object(_.jsx)("label",{htmlFor:"icon-button-file",children:Object(_.jsx)(ge.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(_.jsx)("i",{className:"fas fa-paperclip"})})})]})})]})]})]})})),Me=a(330),Je=a(347),Ge=a(180),Ve=a.n(Ge),Xe=a(13),qe=Object(Xe.a)(H.a)((function(e){var t=e.theme;return{"& .MuiBadge-badge":{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(t.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}));function We(e){return Object(_.jsx)(Te.a,{direction:"row",spacing:2,children:Object(_.jsx)(qe,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:Object(_.jsx)(Be.a,{alt:"Remy Sharp",src:e.src})})})}var ze=a(354),Ze=a(114),Ye=a.n(Ze);var $e=Object(p.b)((function(e){return{chat:e.chat}}))((function(e){return Object(_.jsx)(Ie.a,{sx:{width:"100%",maxWidth:360},style:{borderBottom:"1px solid lightgrey"},children:e.chat.user.suggestions?e.chat.user.suggestions.map((function(e){return Object(_.jsxs)(Se.a,{alignItems:"center",style:{display:"flex",justifyContent:"space-between"},children:[Object(_.jsxs)(ze.a,{className:"itemAvatar",children:[Object(_.jsx)(Be.a,{alt:"Remy Sharp",src:e.image,style:{border:"2px solid lightgrey"}}),Object(_.jsx)(He.a,{className:"user_name",children:e.name})]}),Object(_.jsx)("div",{className:"friend_chat_tab",children:Object(_.jsx)(Ye.a,{className:"icon_add",style:{margin:"0 10px",cursor:"pointer"},fontSize:"medium"})})]})})):""})})),et=a(337),tt=a(355),at=a(179),ct=a.n(at);var nt=Object(p.b)((function(e){return{chat:e.chat}}),(function(e){return{searchCriteria:function(t){return e(R(t))}}}))((function(e){var t=e.chat.user.friends?e.chat.user.friends.map((function(e){return e.username})):[];return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(et.a,{onKeyDown:function(t){return 13===t.keyCode?function(){var t=document.querySelector(".search-value");I.a.post("/search-user",{criteria:t.value}).then((function(t){return e.searchCriteria(t.data)}))}():null},inputProps:{className:"search-value"},className:"search-field-user",id:"input-with-icon-adornment",placeholder:"Search",startAdornment:Object(_.jsx)(tt.a,{position:"start",children:Object(_.jsx)(ct.a,{style:{color:"grey"}})})}),Object(_.jsx)(u.a,{style:{width:"80%",margin:"0 auto",overflow:"auto"},children:e.chat.searchCriteria?e.chat.searchCriteria.map((function(a){if(!t.includes(a.username))return Object(_.jsxs)(j.a,{children:[Object(_.jsx)(m.a,{style:{width:"40px",height:"40px",padding:"0!important",border:"1px solid lightgrey"},src:a.image}),Object(_.jsx)(d.a,{style:{margin:"0 20px"},primary:a.name}),Object(_.jsx)(Ye.a,{className:"user-plus",style:{color:"none"},onClick:function(){return t=e.chat.user.username,c=a.username,void I.a.post("/send-notification",{sender:t,receiver:c}).then((function(e){return console.log(e)}));var t,c}})]},Oe()())})):Object(_.jsx)("span",{style:{fontFamily:"'Ruda', sans-serif"},children:"No results."})})]})})),rt=Ne.firestore();var st=Object(p.b)((function(e){return{chat:e.chat}}),(function(e){return{getUserProfile:function(t){return e(w(t))},userChat:function(t){return e(U(t))},getChat:function(t){return e(k(t))},expandChat:function(t){return e(F())}}}))((function(e){var t=function(){var t=Object(pe.a)(me.a.mark((function t(c){var n;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a(c),e.chat.expand){t.next=6;break}return t.next=4,e.expandChat();case 4:(n=document.querySelector(".chat_window")).scrollTop=n.scrollHeight;case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a=function(t){I.a.post("/profile-info",{username:t}).then((function(t){e.userChat(t.data),rt.collection(e.chat.user.username).doc(t.data.username).get().then((function(t){t.data()?e.getChat(t.data().message):e.getChat([]);var a=document.querySelector(".conversation_window");a.scrollTop=a.scrollHeight}))}))};return Object(_.jsxs)(Je.a,{className:"friends-container",children:[Object(_.jsx)(nt,{}),Object(_.jsx)("h3",{className:"text-filler",children:"Recent"}),e.chat.switchChats?"":Object(_.jsx)(u.a,{style:{width:"100%",borderTop:"1px solid lightgrey"},children:e.chat.user.friends?e.chat.user.friends.map((function(a){return Object(_.jsxs)(j.a,{alignItems:"center",style:{backgroundColor:e.chat.currentChat.username===a.username?"lightgrey":"",width:"100%",borderBottom:"1px solid lightgrey"},children:[Object(_.jsxs)(Me.a,{className:"friend_avatar",children:[Object(_.jsx)(s.b,{onClick:function(){return t=a.username,void I.a.post("/profile-info",{username:t}).then((function(t){e.getUserProfile(t.data)}));var t},to:"/user-profile",children:Object(_.jsx)(We,{src:a.image?a.image:b})}),Object(_.jsx)(He.a,{className:"user_name",children:a.name})]}),Object(_.jsx)("div",{className:"friend_chat_tab",children:Object(_.jsx)(Ve.a,{style:{cursor:"pointer"},onClick:function(){return t(a.username)}})})]},Oe()())})):""}),Object(_.jsx)("h4",{className:"text-filler",children:"Suggested Followers"}),Object(_.jsx)($e,{})]})})),it=a.p+"media/defUsers.c44fbe62.jpg";var ot=Object(p.b)((function(e){return{chat:e.chat}}),(function(e){return{searchCriteria:function(t){return e(R(t))},getUserInfo:function(t){return e(K(t))}}}))((function(e){var t=Object(c.useState)(!1),a=Object(o.a)(t,2),n=a[0],r=a[1],s=Object(_.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"friend_search_container",children:[Object(_.jsx)("h2",{id:"simple-modal-title",children:"Create Group Chat"}),Object(_.jsx)(fe.a,{onKeyDown:function(t){var a=t.target.value,c=e.chat.user.groupChats.filter((function(e){return e.name===a}));13===t.keyCode&&0===c.length?I.a.post("/create-groupChat",{name:a}).then((function(t){e.getUserInfo(t.data)})):c.length},style:{width:"80%",margin:"10px auto"},variant:"outlined",label:"Name of chat..."})]});return Object(_.jsxs)("div",{children:[Object(_.jsx)("i",{onClick:function(){r(!0)},class:"fas fa-plus-circle"}),Object(_.jsx)(l.a,{open:n,onClose:function(){r(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:s})]})})),lt=Ne.firestore();var ut=Object(p.b)((function(e){return{chat:e.chat}}),(function(e){return{getUserProfile:function(t){return e(w(t))},userChat:function(t){return e(U(t))},getChat:function(t){return e(k(t))}}}))((function(e){return Object(_.jsx)(_.Fragment,{children:e.chat.switchChats?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{style:{display:"flex",justifyContent:"center",borderBottom:"1px solid lightgrey"},children:Object(_.jsxs)("h4",{children:["Create Group Chat  ",Object(_.jsx)(ge.a,{"aria-label":"chats",style:{color:"#1D976C"},children:Object(_.jsx)(ot,{})})]})}),Object(_.jsx)("ul",{className:"group_chats",children:e.chat.user.groupChats?e.chat.user.groupChats.map((function(t){return Object(_.jsxs)("li",{style:{backgroundColor:e.chat.currentChat.name===t.name?"lightgrey":"white"},children:[Object(_.jsx)("span",{style:{margin:"0 10px"},children:Object(_.jsx)("img",{style:{background:"white",borderRadius:"50%"},src:it})}),Object(_.jsx)("p",{style:{marginTop:"15px"},children:t.name}),Object(_.jsx)("span",{className:"options_c",style:{float:"left",display:"flex",justifyContent:"center"},children:Object(_.jsx)("i",{style:{cursor:"pointer"},onClick:function(){return function(t){e.userChat(t),I.a.post("/getGroupChat",{username:t.maker.email,name:t.name}).then((function(a){e.userChat(a.data),lt.collection(t.maker.email).doc(t.name).get().then((function(t){t.data()?e.getChat(t.data().message):e.getChat([]);var a=document.querySelector(".conversation_window");a.scrollTop=a.scrollHeight}))}))}(t)},className:"fas fa-comment-dots"})})]},Oe()())})):""})]}):""})})),jt=a(352),dt=a(356),ht=a(181),mt=a.n(ht),pt=a(140),bt=a.n(pt);var ft=Object(p.b)((function(e){return{chat:e.chat}}),(function(e){return{previewImage:function(t){return e(function(e){return{type:N,payload:e}}(t))}}}))((function(e){var t=Object(c.useState)(!1),a=Object(o.a)(t,2),n=(a[0],a[1],Object(c.useState)(null)),r=Object(o.a)(n,2),s=r[0],i=r[1],l=Object(c.useState)(null),u=Object(o.a)(l,2),j=u[0],d=u[1],h=Object(c.useState)(null),m=Object(o.a)(h,2),p=m[0],b=m[1],f=Object(c.useState)(!1),g=Object(o.a)(f,2),x=g[0],O=g[1];return Object(_.jsxs)(jt.a,{component:"span",m:1,className:"submit-post-container",style:{gridTemplateColumns:p?"1fr 1fr":"1fr",height:p?"17vh":"10vh"},children:[Object(_.jsxs)("div",{className:"post_options",children:[x?Object(_.jsx)(Pe,{action:"Posting..."}):"",Object(_.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:[Object(_.jsx)("input",{disabled:!!x,className:"post_message_input",placeholder:"What is on your mind?",style:{marginRight:"10px"}}),Object(_.jsx)("div",{style:{position:"relative",marginTop:"5px"},children:Object(_.jsx)(Ue,{bottom:"-25vh",right:"100%",location:!1})}),Object(_.jsxs)("div",{style:{position:"relative",margin:"0 10px"},children:[Object(_.jsx)(mt.a,{className:"option_icon"}),Object(_.jsx)("input",{className:"input_file",accept:"*",type:"file",onChange:function(e){var t=e.target.files[0];if(t&&["image/png","image/jpeg","image/jpg"].includes(t.type)){d(t);var a=new FileReader;a.onloadend=function(){b(a.result)},a.readAsDataURL(t)}else b(null),i("File not supported (select a image).")}})]}),Object(_.jsx)(dt.a,{disabled:!!x,onClick:function(){var t=document.querySelector(".post_message_input");if(p){if(j&&["image/png","image/jpeg","image/jpg"].includes(j.type)){var a=new FormData;a.append("image",j),O(!0);var c={url:"https://api.imgbb.com/1/upload?key=24d127aa875dd2369887163c67750044",method:"POST",timeout:0,processData:!1,mimeType:"multipart/form-data",contentType:!1,data:a};ve.a.ajax(c).done((function(a){var c=JSON.parse(a);I.a.post("/create-post",{image:c.data.url,name:e.chat.user.name,postTitle:e.chat.user.username,postDesc:t.value,username:e.chat.user.username,userImage:e.chat.user.profileImage,date:bt()(Date.now()).format("LL")}).then((function(e){window.location.reload()})).then((function(){return O(!1)}))}))}}else O(!0),I.a.post("/create-post",{postTitle:e.chat.user.username,name:e.chat.user.name,postDesc:t.value,username:e.chat.user.username,userImage:e.chat.user.profileImage,date:bt()(Date.now()).format("LL")}).then((function(e){window.location.reload()})).then((function(){O(!1)}))},variant:"contained",color:"primary",style:{color:"white",backgroundColor:"#1976d2",padding:"6px 16px",borderRadius:"5px"},children:"POST"})]})]}),Object(_.jsxs)("div",{className:"post_image",style:{display:p?"block":"none",background:"url(".concat(p,") no-repeat center/contain")},children:[p?Object(_.jsx)(De.a,{onClick:function(){b(null),i(null)},className:"post_close",style:{float:"right"}}):"",s&&!p?Object(_.jsx)("p",{style:{color:"red"},children:s}):""]})]})})),gt=a(331),xt=a(334),Ot=a(332),At=a(333),vt=a(120),yt=a(116),Ct=a.n(yt),Nt=a(117),Kt=a.n(Nt);var wt=function(e){return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(Se.a,{alignItems:"flex-start",className:"single_comment",children:[Object(_.jsx)(ze.a,{children:Object(_.jsx)(Be.a,{alt:e.name,src:e.image})}),Object(_.jsx)(Q.a,{primary:e.name,secondary:Object(_.jsxs)(c.Fragment,{children:[Object(_.jsx)(He.a,{sx:{display:"inline"},component:"span",variant:"body2"}),e.description]})})]})})},Ut=a(118),Rt=a.n(Ut),kt=Object(Re.a)((function(e){return{root:{maxWidth:345},media:{height:0},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:vt.a[500]}}}));var Ft=Object(p.b)((function(e){return{chat:e.chat}}),(function(e){return{}}))((function(e){var t=kt();return Object(_.jsx)(Je.a,{className:"post-container",children:Object(_.jsx)("div",{className:"post-content-container",children:e.chat.user.posts?e.chat.user.posts.map((function(a){var c=a.likes.includes(e.chat.user.username);return Object(_.jsxs)(Je.a,{className:"single-post",style:{height:""!==a.image?"500px":"250px"},children:[Object(_.jsx)(gt.a,{avatar:Object(_.jsx)(m.a,{src:a.userImage,"aria-label":"recipe",className:t.avatar}),title:"".concat(a.name," - ").concat(a.postDesc," - ").concat(a.date)}),Object(_.jsx)(jt.a,{className:"post-image",style:{backgroundImage:"url(".concat(a.image,")"),border:"1px solid lightgrey",height:""!==a.image?"90%":"0"}}),Object(_.jsxs)(Ot.a,{disableSpacing:!0,children:[Object(_.jsx)(Ct.a,{onClick:c?null:function(){var t=Object(pe.a)(me.a.mark((function t(c){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n=a.username,r=a.id,void I.a.post("/like-post",{receiver:n,sender:e.chat.user.username,postID:r,name:e.chat.user.name});case 2:c.target.style.color="red";case 3:case"end":return t.stop()}var n,r}),t)})));return function(e){return t.apply(this,arguments)}}(),className:"post_icon",style:{color:c?"red":"",cursor:"pointer"}}),Object(_.jsx)(Kt.a,{onClick:function(e){return function(e){var t=e.target.parentElement.parentElement.parentElement.children[3];t&&t.classList&&(t.classList.contains("closed")?(t.classList.remove("closed"),t.classList.add("open"),t.style.height="100%"):(t.classList.remove("open"),t.classList.add("closed"),t.style.height="25%"))}(e)},className:"post_icon",style:{cursor:"pointer"}})]}),Object(_.jsx)(At.a,{className:"closed",in:!0,timeout:"auto",unmountOnExit:!0,style:{overflow:"auto",height:"25%"},children:Object(_.jsxs)(xt.a,{children:[Object(_.jsxs)("div",{className:"post_comments_field",children:[Object(_.jsx)(fe.a,{label:"Add Comment",style:{background:"white",padding:"3px 10px",borderRadius:"5px"}}),Object(_.jsx)(Rt.a,{onClick:function(t){return t.target.classList.contains("MuiSvgIcon-root")?(c=t.target,n=a.id,r=a.username,void(""!==c.parentElement.children[0].children[1].children[0].value&&I.a.post("/leave-comment",{comment:c.parentElement.children[0].children[1].children[0].value,sender:e.chat.user.username,receiver:r,postID:n,image:e.chat.user.profileImage,name:e.chat.user.name}).then((function(e){var t=e.data.profileImage?e.data.profileImage:b;c.parentElement.parentElement.children[1].innerHTML+='<li class="MuiListItem-root MuiListItem-gutters MuiListItem-padding MuiListItem-alignItemsFlexStart css-14owld3">\n          <div class="MuiListItemAvatar-root MuiListItemAvatar-alignItemsFlexStart css-s1bfy">\n            <div class="MuiAvatar-root MuiAvatar-circular css-3i9vrz">\n              <img alt='.concat(e.data.name," src=").concat(t,' class="MuiAvatar-img css-1hy9t21"></div>\n              </div><div class="MuiListItemText-root MuiListItemText-multiline css-1xar93x">\n                <span class="MuiTypography-root MuiTypography-body1 MuiListItemText-primary css-yb0lig">').concat(e.data.name,'</span>\n                <p class="MuiTypography-root MuiTypography-body2 MuiListItemText-secondary css-mbfek">\n          <span class="MuiTypography-root MuiTypography-body2 css-pg48dy"></span>').concat(c.parentElement.children[0].children[1].children[0].value,"</p></div></li>"),c.parentElement.children[0].children[1].children[0].value=""})))):null;var c,n,r},style:{cursor:"pointer",marginLeft:"5px"}})]}),Object(_.jsx)(Ie.a,{style:{width:"100%"},className:a.id,children:a.comments.map((function(e){return Object(_.jsx)(wt,{image:e.image,name:e.name,description:e.comment})}))})]})})]})})):""})})}));var Pt=Object(p.b)((function(e){return{chat:e.chat}}),(function(e){return{getUserInfo:function(t){return e(K(t))}}}))((function(e){return Object(c.useEffect)((function(){I.a.get("/info").then((function(t){e.getUserInfo(t.data)}))}),[]),Object(_.jsxs)("div",{className:"profile_content",children:[Object(_.jsx)(ft,{}),Object(_.jsx)("div",{className:"post_container",children:Object(_.jsx)(Ft,{})})]})})),It=a(336),St=a(353),Bt=a(183),Tt=a.n(Bt),Ht=a(184),_t=a.n(Ht),Dt=a(182),Lt=a.n(Dt),Et=a(185),Qt=a.n(Et),Mt=a(186),Jt=a.n(Mt);var Gt=Object(p.b)((function(e){return{chat:e.chat}}),(function(e){return{getUserInfo:function(t){return e(K(t))}}}))((function(e){var t=Object(c.useState)("/user-profile"===window.location.pathname?1:0),a=Object(o.a)(t,2),n=a[0],r=a[1];return Object(c.useEffect)((function(){I.a.get("/info").then((function(t){e.getUserInfo(t.data)}))}),[]),Object(_.jsxs)(Je.a,{className:"navigation-container",children:[Object(_.jsxs)(jt.a,{className:"logo-sign",children:[Object(_.jsx)(Be.a,{style:{backgroundColor:"lightseagreen",transform:"scale(1.3)"},children:Object(_.jsx)(Lt.a,{})}),Object(_.jsx)("h2",{children:"Gossip"})]}),Object(_.jsxs)(It.a,{TabIndicatorProps:{style:{backgroundColor:"lightseagreen"}},value:n,onChange:function(e,t){r(t)},"aria-label":"icon label tabs example",children:[Object(_.jsx)(St.a,{icon:Object(_.jsx)(s.b,{className:"nav-tab",to:"/profile",children:Object(_.jsx)(Tt.a,{className:"icon_tabs"})})}),Object(_.jsx)(St.a,{icon:Object(_.jsx)(s.b,{className:"nav-tab",to:"/user-profile",children:Object(_.jsx)($.a,{className:"icon_tabs"})})}),Object(_.jsx)(St.a,{icon:Object(_.jsx)(s.b,{className:"nav-tab",to:"/profile",children:Object(_.jsx)(Z.a,{className:"icon_tabs"})})}),Object(_.jsx)(St.a,{icon:Object(_.jsx)(s.b,{className:"nav-tab",to:"/profile",children:Object(_.jsx)(_t.a,{className:"icon_tabs"})})}),Object(_.jsx)(St.a,{icon:Object(_.jsx)(s.b,{className:"nav-tab",to:"/profile",children:Object(_.jsx)(Qt.a,{className:"icon_tabs"})})}),Object(_.jsx)(St.a,{icon:Object(_.jsx)(s.b,{className:"nav-tab",to:"/profile",children:Object(_.jsx)(Jt.a,{className:"icon_tabs"})})})]}),Object(_.jsxs)("div",{className:"right-side",children:[Object(_.jsx)(Be.a,{alt:"Remy Sharp",src:e.chat.user.profileImage,style:{width:"60px",height:"60px",border:"2px solid lightgrey",margin:"5px 0"}}),Object(_.jsx)("p",{children:e.chat.user.name})]})]})}));var Vt=Object(p.b)((function(e){return{chat:e.chat}}),(function(e){return{getUserInfo:function(t){return e(K(t))}}}))((function(e){return Object(_.jsxs)("div",{className:"chat_container",children:[Object(_.jsx)(Gt,{}),Object(_.jsxs)("div",{className:"chat",children:[Object(_.jsx)(je,{}),Object(_.jsx)(Pt,{}),Object(_.jsxs)("div",{className:"friends_container",children:[Object(_.jsx)(st,{}),Object(_.jsx)(ut,{}),Object(_.jsx)(Qe,{})]})]})]})})),Xt=(a(253),a(254),a.p+"media/defBackground.c05e7b3d.jpg"),qt=a(141),Wt=a.n(qt);var zt=Object(p.b)((function(e){return{chat:e.chat}}),(function(e){return{getUserProfile:function(t){return e(w(t))}}}))((function(e){var t=Object(c.useState)(null),a=Object(o.a)(t,2),n=(a[0],a[1],Object(c.useState)(null)),r=Object(o.a)(n,2);return r[0],r[1],Object(_.jsxs)("div",{className:"profile_header",children:[Object(_.jsxs)("div",{className:"user_profile_back",style:{backgroundImage:"url(".concat(e.chat.userProfile.backgroundImage?e.chat.userProfile.backgroundImage:Xt,")")},children:[Object(_.jsxs)(m.a,{style:{backgroundColor:"white",border:"1px solid lightgrey",top:"10px",left:"10px",position:"absolute",cursor:"pointer",display:e.chat.userProfile.username===e.chat.user.username?"":"none"},children:[Object(_.jsx)(Wt.a,{style:{color:"black"}}),Object(_.jsx)("input",{accept:"*",className:"input_file",type:"file",onChange:function(t){return function(t){var a=t.target.files[0];if(a&&["image/png","image/jpeg","image/jpg"].includes(a.type)){var c=new FormData;c.append("image",a);var n={url:"https://api.imgbb.com/1/upload?key=24d127aa875dd2369887163c67750044",method:"POST",timeout:0,processData:!1,mimeType:"multipart/form-data",contentType:!1,data:c};ve.a.ajax(n).done((function(t){var a=JSON.parse(t);I.a.post("/update-background",{image:a.data.url,username:e.chat.user.username}).then((function(t){e.getUserProfile(t.data)}))}))}}(t)}})]}),Object(_.jsx)("div",{className:"user_profile_image",style:{backgroundImage:"url(".concat(e.chat.userProfile.profileImage?e.chat.userProfile.profileImage:b,")")},children:Object(_.jsxs)(m.a,{style:{backgroundColor:"white",border:"1px solid lightgrey",cursor:"pointer",display:e.chat.userProfile.username===e.chat.user.username?"":"none"},children:[Object(_.jsx)(Wt.a,{style:{color:"black"}}),Object(_.jsx)("input",{accept:"*",className:"input_file",type:"file",onChange:function(t){return function(t){var a=t.target.files[0];if(a&&["image/png","image/jpeg","image/jpg"].includes(a.type)){var c=new FormData;c.append("image",a);var n={url:"https://api.imgbb.com/1/upload?key=24d127aa875dd2369887163c67750044",method:"POST",timeout:0,processData:!1,mimeType:"multipart/form-data",contentType:!1,data:c};ve.a.ajax(n).done((function(t){var a=JSON.parse(t);I.a.post("/update-profile",{image:a.data.url,username:e.chat.user.username}).then((function(t){e.getUserProfile(t.data)}))}))}}(t)}})]})})]}),Object(_.jsx)("h2",{children:e.chat.userProfile.name})]})})),Zt=Object(Re.a)((function(e){return{root:{maxWidth:345},media:{height:0},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:vt.a[500]}}}));var Yt=Object(p.b)((function(e){return{chat:e.chat}}),(function(e){return{getUserProfile:function(t){return e(w(t))}}}))((function(e){var t=Zt(),a=function(t){var a=t.target;I.a.post("/like-post",{receiver:e.chat.userProfile.username,sender:e.chat.user.username,postID:a.classList[2],name:e.chat.user.name}).then((function(e){a.parentElement.innerHTML='<i style="color:green;" class="far fa-thumbs-up">'.concat(e.data.likes.length,"</i>")}))};return Object(_.jsxs)("div",{className:"profile_content",children:[Object(_.jsx)(zt,{}),Object(_.jsx)("div",{className:"post-container",children:Object(_.jsx)("div",{className:"post-content-container",style:{height:"45vh"},children:e.chat.userProfile.posts?e.chat.userProfile.posts.map((function(c){var n=c.likes.includes(e.chat.user.username);return Object(_.jsxs)(Je.a,{className:"single-post",style:{height:""!==c.image?"500px":"250px"},children:[Object(_.jsx)(gt.a,{avatar:Object(_.jsx)(m.a,{src:c.userImage,"aria-label":"recipe",className:t.avatar}),title:"".concat(c.name," - ").concat(c.postDesc," - ").concat(c.date)}),Object(_.jsx)(jt.a,{className:"post-image",style:{backgroundImage:"url(".concat(c.image,")"),border:"1px solid lightgrey",height:""!==c.image?"90%":"0"}}),Object(_.jsxs)(Ot.a,{disableSpacing:!0,children:[Object(_.jsx)(Ct.a,{onClick:n?null:function(){var e=Object(pe.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(c.username,c.id);case 2:t.target.style.color="red";case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:"post_icon",style:{color:n?"red":"",cursor:"pointer"}}),Object(_.jsx)(Kt.a,{onClick:function(e){return function(e){var t=e.target.parentElement.parentElement.parentElement.children[3];t&&t.classList&&(t.classList.contains("closed")?(t.classList.remove("closed"),t.classList.add("open"),t.style.height="100%"):(t.classList.remove("open"),t.classList.add("closed"),t.style.height="25%"))}(e)},className:"post_icon",style:{cursor:"pointer"}})]}),Object(_.jsx)(At.a,{className:"closed",in:!0,timeout:"auto",unmountOnExit:!0,style:{overflow:"auto",height:"25%"},children:Object(_.jsxs)(xt.a,{children:[Object(_.jsxs)("div",{className:"post_comments_field",children:[Object(_.jsx)(fe.a,{label:"Add Comment",style:{background:"white",padding:"3px 10px",borderRadius:"5px"}}),Object(_.jsx)(Rt.a,{onClick:function(t){return t.target.classList.contains("MuiSvgIcon-root")?function(t){var a=t.target;I.a.post("/leave-comment",{comment:a.parentElement.parentElement.parentElement.children[0].children[1].children[0].value,sender:e.chat.user.username,receiver:e.chat.userProfile.username,postID:a.classList[2],image:e.chat.user.profileImage,name:e.chat.user.name}).then((function(t){var c=e.chat.userProfile.profileImage?e.chat.userProfile.profileImage:b;a.parentElement.parentElement.parentElement.parentElement.children[6].innerHTML+='<li>\n      <div style="background-image: url('.concat(c,')"></div>\n      <p><strong>').concat(e.chat.userProfile.name,":</strong>  ").concat(a.parentElement.parentElement.parentElement.children[0].children[1].children[0].value,"</p>\n    </li>"),a.parentElement.parentElement.parentElement.children[0].children[1].children[0].value=""}))}(t.target,c.id,c.username):null},style:{cursor:"pointer",marginLeft:"5px"}})]}),Object(_.jsx)(Ie.a,{style:{width:"100%"},className:c.id,children:c.comments.map((function(e){return Object(_.jsx)(wt,{image:e.image,name:e.name,description:e.comment})}))})]})})]})})):""})})]})}));var $t=Object(p.b)((function(e){return{chat:e.chat}}),(function(e){return{getUserProfile:function(t){return e(w(t))}}}))((function(e){return Object(_.jsxs)("div",{className:"chat_container",children:[Object(_.jsx)(Gt,{}),Object(_.jsxs)("div",{className:"chat",children:[Object(_.jsx)(je,{}),Object(_.jsx)(Yt,{}),Object(_.jsxs)("div",{className:"friends_container",children:[Object(_.jsx)(st,{}),Object(_.jsx)(ut,{}),Object(_.jsx)(Qe,{})]})]})]})}));a(255);var ea=function(){return Object(c.useEffect)((function(){window.location.replace("/login")}),[]),Object(_.jsx)("div",{className:"login_section"})};var ta=function(){return Object(_.jsx)(s.a,{children:Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)(i.a,{exact:!0,path:"/",component:ea}),Object(_.jsx)(i.a,{path:"/profile",component:Vt}),Object(_.jsx)(i.a,{path:"/user-profile",component:$t})]})})},aa=a(34),ca={user:{},userProfile:{},currentChat:{},searchCriteria:"",chat:[],videoChat:"",switchChats:!1,expand:!1,post_image:""},na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(aa.a)(Object(aa.a)({},e),{},{user:t.payload});case N:return Object(aa.a)(Object(aa.a)({},e),{},{post_image:t.payload});case C:return Object(aa.a)(Object(aa.a)({},e),{},{expand:!e.expand});case g:return Object(aa.a)(Object(aa.a)({},e),{},{userProfile:t.payload});case x:return Object(aa.a)(Object(aa.a)({},e),{},{currentChat:t.payload});case O:return Object(aa.a)(Object(aa.a)({},e),{},{searchCriteria:t.payload});case A:return Object(aa.a)(Object(aa.a)({},e),{},{chat:t.payload});case v:return Object(aa.a)(Object(aa.a)({},e),{},{videoChat:t.payload});case y:return Object(aa.a)(Object(aa.a)({},e),{},{switchChats:t.payload});default:return e}},ra=a(80),sa=Object(ra.b)({chat:na}),ia=Object(ra.c)(sa),oa=a(348),la=a(73),ua=a(189),ja=a(344),da=a(188),ha=a.n(da),ma=a(187),pa=a.n(ma),ba=c.createContext({toggleColorMode:function(){}});function fa(){var e=Object(la.a)(),t=c.useContext(ba);return Object(_.jsxs)(Je.a,{sx:{width:"100vw",height:"auto",justifyContent:"space-around",bgcolor:"background.default",color:"text.primary",borderRadius:1},children:[Object(_.jsx)(oa.a,{style:{margin:"0 0 0 1%"},onClick:t.toggleColorMode,color:"inherit",children:"dark"===e.palette.mode?Object(_.jsx)(pa.a,{}):Object(_.jsx)(ha.a,{})}),Object(_.jsx)(ta,{})]})}function ga(){var e=c.useState("light"),t=Object(o.a)(e,2),a=t[0],n=t[1],r=c.useMemo((function(){return{toggleColorMode:function(){n((function(e){return"light"===e?"dark":"light"}))}}}),[]),s=c.useMemo((function(){return Object(ua.a)({palette:{mode:a}})}),[a]);return Object(_.jsx)(ba.Provider,{value:r,children:Object(_.jsx)(ja.a,{theme:s,children:Object(_.jsx)(fa,{})})})}r.a.render(Object(_.jsx)(p.a,{store:ia,children:Object(_.jsx)(ga,{})}),document.getElementById("root"))}},[[261,1,2]]]);
//# sourceMappingURL=main.27907ea5.chunk.js.map